1	(mapcar (lambda (sym) (list sym (boundp sym))) '(last-event-frame last-event-device last-input-event last-nonmenu-event last-command-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer executing-kbd-macro-prefix-arg last-prefix-arg last-kbd-macro last-code-conversion-error last-coding-system-used this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-alist input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag unread-command-events))	OK ((last-event-frame t) (last-event-device t) (last-input-event t) (last-nonmenu-event t) (last-command-event t) (real-last-command t) (last-repeatable-command t) (this-original-command t) (prefix-arg t) (defining-kbd-macro t) (executing-kbd-macro t) (executing-kbd-macro-index t) (command-history t) (read-expression-history t) (read-number-history t) (read-char-history t) (minibuffer-history t) (regexp-search-ring t) (regexp-search-ring-yank-pointer t) (search-ring t) (search-ring-yank-pointer t) (executing-kbd-macro-prefix-arg nil) (last-prefix-arg t) (last-kbd-macro t) (last-code-conversion-error t) (last-coding-system-used t) (this-command t) (real-this-command t) (this-command-keys-shift-translated t) (current-prefix-arg t) (overriding-local-map t) (overriding-terminal-local-map t) (deactivate-mark t) (mark-active t) (transient-mark-mode t) (unread-input-method-events t) (unread-post-input-method-events t) (input-method-alist t) (input-method-activate-hook t) (input-method-after-insert-chunk-hook t) (input-method-deactivate-hook t) (input-method-exit-on-first-char t) (input-method-exit-on-invalid-key t) (input-method-function t) (input-method-highlight-flag t) (input-method-history t) (input-method-previous-message t) (input-method-use-echo-area t) (input-method-verbose-flag t) (unread-command-events t))
2	(list (boundp 'input-method-alist) (listp input-method-alist))	OK (t t)
3	(list last-event-frame last-event-device last-input-event last-nonmenu-event last-command-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer last-prefix-arg last-kbd-macro last-code-conversion-error last-coding-system-used this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag)	OK (nil nil nil nil nil nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil undecided-unix nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default)
4	(progn (setq unread-command-events (list 97)) (read-key nil) (list last-event-frame last-event-device last-input-event last-nonmenu-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag))	OK (nil nil 97 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default)
5	(progn (setq unread-command-events (list '(mouse-1))) (read-event nil nil 0) (list last-event-frame last-event-device last-input-event last-nonmenu-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag))	OK (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default)
6	(let ((probes '((read-string "") (read-number "") (read-from-minibuffer "") (completing-read "" (("a") ("b"))) (read-command "") (read-variable "") (read-buffer "") (read-file-name "")))) (mapcar (lambda (entry) (let ((fn (car entry)) (args (cdr entry)) (before (list last-event-frame last-event-device last-input-event last-nonmenu-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag))) (condition-case _ (progn (setq unread-command-events (list 97 'foo)) (apply fn args)) (error nil)) (list fn before (list last-event-frame last-event-device last-input-event last-nonmenu-event real-last-command last-repeatable-command this-original-command prefix-arg defining-kbd-macro executing-kbd-macro executing-kbd-macro-index command-history read-expression-history read-number-history read-char-history minibuffer-history regexp-search-ring regexp-search-ring-yank-pointer search-ring search-ring-yank-pointer this-command real-this-command this-command-keys-shift-translated current-prefix-arg overriding-local-map overriding-terminal-local-map deactivate-mark mark-active transient-mark-mode unread-input-method-events unread-post-input-method-events input-method-activate-hook input-method-after-insert-chunk-hook input-method-deactivate-hook input-method-exit-on-first-char input-method-exit-on-invalid-key input-method-function input-method-highlight-flag input-method-history input-method-previous-message input-method-use-echo-area input-method-verbose-flag) unread-command-events))) probes))	OK ((read-string (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-number (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-from-minibuffer (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (completing-read (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-command (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-variable (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-buffer (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)) (read-file-name (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (nil nil (mouse-1) 97 nil nil nil nil nil nil 0 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil t nil nil nil nil nil nil nil nil nil list t nil nil nil default) (97 foo)))
