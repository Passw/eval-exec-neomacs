; module-load should enforce string path and signal module-open-failed for bad paths.
(let* ((path "__neovm_missing_module__.so")
       (err (condition-case e (module-load path) (error e))))
  (list (car err)
        (equal (cadr err) path)
        (stringp (caddr err))
        (string-match-p path (caddr err))))

(let ((err (condition-case e (module-load "/dev/null") (error e))))
  (list (car err)
        (equal (cadr err) "/dev/null")
        (stringp (caddr err))))

(condition-case err (module-load nil) (error err))
(condition-case err (module-load) (error err))
