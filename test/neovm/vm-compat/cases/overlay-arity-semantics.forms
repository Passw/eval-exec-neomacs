; Lock in overlay builtin arity/error behavior and core batch operations.
(condition-case err (overlays-at 1 nil nil) (error err))
(condition-case err (overlays-in 1 2 3) (error err))
(condition-case err (make-overlay 1 2 nil nil nil nil) (error err))
(condition-case err (move-overlay nil 1 2 nil nil) (error err))

(condition-case err (overlays-at 'x) (error (car err)))
(condition-case err (move-overlay nil 1 2 nil) (error (car err)))

(with-temp-buffer
  (insert "abcdef")
  (let ((ov (make-overlay 2 5)))
    (list (overlayp ov)
          (overlay-start ov)
          (overlay-end ov)
          (eq (overlay-buffer ov) (current-buffer))
          (length (overlays-at 3))
          (length (overlays-at 3 t))
          (length (overlays-in 1 6)))))

(with-temp-buffer
  (insert "abcdef")
  (let ((ov (make-overlay 2 5)))
    (delete-overlay ov)
    (list (overlay-start ov) (overlay-end ov) (overlay-buffer ov))))
