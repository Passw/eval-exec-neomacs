(fboundp 'set-text-properties)
(fboundp 'remove-list-of-text-properties)
(fboundp 'text-property-not-all)
(fboundp 'next-overlay-change)
(fboundp 'previous-overlay-change)
(fboundp 'get-char-property-and-overlay)
(fboundp 'get-display-property)
(func-arity 'set-text-properties)
(func-arity 'remove-list-of-text-properties)
(func-arity 'text-property-not-all)
(func-arity 'next-overlay-change)
(func-arity 'previous-overlay-change)
(func-arity 'get-char-property-and-overlay)
(func-arity 'get-display-property)
(subr-arity (symbol-function 'set-text-properties))
(subr-arity (symbol-function 'remove-list-of-text-properties))
(subr-arity (symbol-function 'text-property-not-all))
(subr-arity (symbol-function 'next-overlay-change))
(subr-arity (symbol-function 'previous-overlay-change))
(subr-arity (symbol-function 'get-char-property-and-overlay))
(subr-arity (symbol-function 'get-display-property))
(condition-case err (set-text-properties 1 2 '(q z) nil nil) (error err))
(condition-case err (remove-list-of-text-properties 1 2 '(q) nil nil) (error err))
(condition-case err (text-property-not-all 1 2 'p 'v nil nil) (error err))
(condition-case err (next-overlay-change) (error err))
(condition-case err (previous-overlay-change 1 nil) (error err))
(condition-case err (get-char-property-and-overlay 1 'p nil nil) (error err))
(condition-case err (get-display-property 1 'p nil nil nil) (error err))
(condition-case err (next-overlay-change 'x) (error err))
(with-temp-buffer
  (insert "abcd")
  (list
   (next-overlay-change 1)
   (previous-overlay-change 4)
   (let ((ov (make-overlay 2 4)))
     (list
      (next-overlay-change 1)
      (next-overlay-change 2)
      (next-overlay-change 3)
      (next-overlay-change 4)
      (previous-overlay-change 4)
      (previous-overlay-change 3)
      (previous-overlay-change 2)
      (previous-overlay-change 1)
      (let ((r (get-char-property-and-overlay 3 'foo)))
        (list (car r) (overlayp (cdr r)) (bufferp (overlay-buffer (cdr r)))))
      (progn (overlay-put ov 'foo 'bar)
             (let ((r (get-char-property-and-overlay 3 'foo)))
               (list (car r) (overlayp (cdr r)) (bufferp (overlay-buffer (cdr r))))))))))
(with-temp-buffer
  (insert "abcd")
  (put-text-property 2 4 'p 'v)
  (list
   (get-display-property 2 'p)
   (get-display-property 2 'p nil)
   (get-display-property 2 'p nil nil)
   (text-property-not-all 1 5 'p 'v)
   (text-property-not-all 2 4 'p 'v)
   (text-property-not-all 1 5 'p nil)
   (progn (set-text-properties 2 4 '(q z))
          (list (text-properties-at 2) (text-properties-at 3) (text-properties-at 4)))
   (list
    (remove-list-of-text-properties 2 4 '(q))
    (remove-list-of-text-properties 2 4 '(q))
    (text-properties-at 2)
    (text-properties-at 3)
    (text-properties-at 4))))
