; editfns.c â€” buffer operations
; point / point-min / point-max / bobp / eobp / bolp / eolp
(with-temp-buffer (= (point) 1))
(with-temp-buffer (= (point-min) 1))
(with-temp-buffer (= (point-max) 1))
(with-temp-buffer (bobp))
(with-temp-buffer (eobp))
(with-temp-buffer (bolp))
(with-temp-buffer (eolp))

; insert / buffer-string / buffer-size
(with-temp-buffer (insert "hello") (buffer-string))
(with-temp-buffer (insert "hello") (= (buffer-size) 5))
(with-temp-buffer (insert "a" "b" "c") (buffer-string))

; goto-char
(with-temp-buffer
  (insert "hello")
  (goto-char 3)
  (= (point) 3))

; following-char / preceding-char
(with-temp-buffer
  (insert "abc")
  (goto-char 2)
  (= (following-char) ?b))
(with-temp-buffer
  (insert "abc")
  (goto-char 2)
  (= (preceding-char) ?a))

; char-after / char-before
(with-temp-buffer
  (insert "abc")
  (= (char-after 1) ?a))
(with-temp-buffer
  (insert "abc")
  (= (char-after 3) ?c))
(with-temp-buffer
  (insert "abc")
  (eq (char-after 4) nil))
(with-temp-buffer
  (insert "abc")
  (= (char-before 2) ?a))

; delete-char
(with-temp-buffer
  (insert "hello")
  (goto-char 1)
  (delete-char 2)
  (buffer-string))

; delete-region
(with-temp-buffer
  (insert "hello world")
  (delete-region 1 6)
  (buffer-string))

; buffer-substring
(with-temp-buffer
  (insert "hello world")
  (buffer-substring 1 6))

; buffer-substring-no-properties
(with-temp-buffer
  (insert "hello world")
  (buffer-substring-no-properties 1 6))

; widen / narrow-to-region
(with-temp-buffer
  (insert "hello world")
  (narrow-to-region 1 6)
  (= (point-max) 6))
(with-temp-buffer
  (insert "hello world")
  (narrow-to-region 1 6)
  (widen)
  (= (point-max) 12))

; insert-char
(with-temp-buffer
  (insert-char ?x 3)
  (buffer-string))

; insert-before-markers
(with-temp-buffer
  (insert "ab")
  (goto-char 2)
  (insert-before-markers "X")
  (buffer-string))

; position-bytes / byte-to-position
(with-temp-buffer
  (insert "hello")
  (= (position-bytes 1) 1))
(with-temp-buffer
  (insert "hello")
  (= (byte-to-position 1) 1))

; bobp / eobp after insert
(with-temp-buffer
  (insert "hello")
  (goto-char 1)
  (bobp))
(with-temp-buffer
  (insert "hello")
  (goto-char (point-max))
  (eobp))

; bolp / eolp
(with-temp-buffer
  (insert "hello\nworld")
  (goto-char 1)
  (bolp))
(with-temp-buffer
  (insert "hello\nworld")
  (goto-char 6)
  (eolp))
