; get-byte semantics across string/buffer paths and edge conditions.
(get-byte 0 "abc")
(get-byte 1 "abc")
(get-byte 2 "abc")
(get-byte nil "abc")
(condition-case err (get-byte 3 "abc") (error err))
(condition-case err (get-byte -1 "abc") (error err))
(condition-case err (get-byte "0" "abc") (error err))
(condition-case err (get-byte 0 "é") (error err))
(get-byte nil "")
(condition-case err (get-byte 0 42) (error err))
(let ((s (unibyte-string 255 65)))
  (list (get-byte 0 s) (get-byte 1 s)))
(condition-case err (get-byte 2 (unibyte-string 255 65)) (error err))

(with-temp-buffer
  (insert "abc")
  (list (get-byte 1) (get-byte 2) (get-byte 3)))
(with-temp-buffer
  (insert "abc")
  (get-byte nil))
(with-temp-buffer
  (insert "abc")
  (goto-char 2)
  (get-byte nil))
(with-temp-buffer
  (insert "abc")
  (condition-case err (get-byte 0) (error err)))
(with-temp-buffer
  (insert "abc")
  (condition-case err (get-byte -1) (error err)))
(with-temp-buffer
  (insert "abc")
  (condition-case err (get-byte "0") (error err)))
(with-temp-buffer
  (insert "abc")
  (condition-case err (get-byte 4) (error err)))
(with-temp-buffer
  (insert "é")
  (condition-case err (get-byte 1) (error err)))
(condition-case err (get-byte 0 "a" nil) (error (car err)))
