; Compatibility coverage for field/delete wrapper builtins.
(subr-arity (symbol-function 'delete-all-overlays))
(subr-arity (symbol-function 'delete-and-extract-region))
(subr-arity (symbol-function 'delete-field))
(subr-arity (symbol-function 'field-beginning))
(subr-arity (symbol-function 'field-end))
(subr-arity (symbol-function 'field-string))
(subr-arity (symbol-function 'field-string-no-properties))

(condition-case err (delete-all-overlays) (error err))
(condition-case err (delete-all-overlays (current-buffer)) (error err))
(condition-case err (delete-all-overlays "x") (error err))

(condition-case err (delete-and-extract-region) (error err))
(condition-case err (delete-and-extract-region "x" 1) (error err))
(with-temp-buffer
  (insert "abcd")
  (list (delete-and-extract-region 2 4) (buffer-string) (point)))
(with-temp-buffer
  (insert "abcd")
  (list (delete-and-extract-region 4 2) (buffer-string) (point)))

(condition-case err (field-beginning 1 nil nil nil) (error err))
(condition-case err (field-beginning "x") (error err))
(condition-case err (field-end "x") (error err))
(condition-case err (field-string "x") (error err))
(condition-case err (field-string-no-properties "x") (error err))

(with-temp-buffer
  (insert "abcd")
  (goto-char 3)
  (list (field-beginning) (field-end) (field-string) (field-string-no-properties)))
(with-temp-buffer
  (insert "abcd")
  (goto-char 3)
  (list
    (field-beginning nil nil 2)
    (field-end nil nil 3)
    (field-beginning nil nil 6)
    (field-end nil nil 6)))
(with-temp-buffer
  (insert "abcd")
  (condition-case err (field-end nil nil 0) (error err)))
(with-temp-buffer
  (insert "abcd")
  (condition-case err (field-string 9) (error err)))

(condition-case err (delete-field 1 2 3) (error err))
(condition-case err (delete-field "x") (error err))
(with-temp-buffer
  (insert "abcd")
  (goto-char 3)
  (condition-case err (delete-field 0) (error err)))
(with-temp-buffer
  (insert "abcd")
  (goto-char 3)
  (delete-field)
  (list (buffer-string) (point)))
(with-temp-buffer
  (insert "abcd")
  (goto-char 3)
  (delete-field 2)
  (list (buffer-string) (point)))
