; fileio.c â€” file I/O operations
; expand-file-name
(stringp (expand-file-name "foo"))
(stringp (expand-file-name "foo" "/tmp"))
(equal (expand-file-name "bar" "/tmp") "/tmp/bar")
(equal (expand-file-name "/absolute" "/tmp") "/absolute")

; file-name-directory
(equal (file-name-directory "/tmp/foo") "/tmp/")
(equal (file-name-directory "foo") nil)
(equal (file-name-directory "/tmp/") "/tmp/")

; file-name-nondirectory
(equal (file-name-nondirectory "/tmp/foo") "foo")
(equal (file-name-nondirectory "/tmp/") "")
(equal (file-name-nondirectory "foo") "foo")

; file-name-as-directory
(equal (file-name-as-directory "/tmp") "/tmp/")
(equal (file-name-as-directory "/tmp/") "/tmp/")

; directory-file-name
(equal (directory-file-name "/tmp/") "/tmp")
(equal (directory-file-name "/tmp") "/tmp")

; file-name-concat
(equal (file-name-concat "/tmp" "foo") "/tmp/foo")
(equal (file-name-concat "/tmp/" "foo") "/tmp/foo")

; file-exists-p
(file-exists-p "/tmp")
(not (file-exists-p "/nonexistent-path-xyz-99"))

; file-directory-p
(file-directory-p "/tmp")
(not (file-directory-p "/nonexistent-path-xyz-99"))

; file-readable-p
(file-readable-p "/tmp")

; file-regular-p
(not (file-regular-p "/tmp"))

; file-symlink-p
(not (file-symlink-p "/tmp"))

; file-name-absolute-p
(file-name-absolute-p "/foo")
(not (file-name-absolute-p "foo"))
(not (file-name-absolute-p ""))

; substitute-in-file-name
(equal (substitute-in-file-name "/tmp/foo") "/tmp/foo")

; file-modes
(integerp (file-modes "/tmp"))

; error paths
(condition-case err (expand-file-name) (error (car err)))
(condition-case err (file-name-directory 42) (error (car err)))
