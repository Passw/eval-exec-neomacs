(mapcar (lambda (s)
          (list s
                (fboundp s)
                (subrp (symbol-function s))
                (subr-arity (symbol-function s))
                (commandp s)))
        '(process-file
          process-file-shell-command
          process-lines
          process-lines-ignore-status
          process-lines-handling-status
          process-menu-delete-process
          process-menu-visit-buffer
          process-menu-mode))

(list
 (with-temp-buffer
   (list (process-file "echo" nil t nil "hi")
         (string-prefix-p "hi" (buffer-string))))
 (condition-case err (process-file nil nil t nil) (error err))
 (with-temp-buffer
   (list (process-file-shell-command "echo hi" nil t nil)
         (string-prefix-p "hi" (buffer-string))))
 (condition-case err (process-file-shell-command 1 nil t nil) (error err))
 (condition-case err (process-file-shell-command "echo hi" nil 'foo nil) (error err)))

(list
 (process-lines "echo" "hello")
 (condition-case err (process-lines "sh" "-c" "exit 5") (error err))
 (process-lines-ignore-status "sh" "-c" "echo hi; exit 5")
 (let ((x nil))
   (list
    (process-lines-handling-status "sh" (lambda (&rest args) (setq x args)) "-c" "exit 9")
    x))
 (condition-case err (process-lines-handling-status "echo" "hello") (error err))
 (condition-case err (process-lines-handling-status "sh" nil "-c" "exit 5") (error err)))

(list
 (condition-case err
     (let ((b (get-buffer-create "pmenu-test")))
       (with-current-buffer b
         (let ((p (start-process "pmenu-proc" "pmenu-test" "cat")))
           (list
            (processp p)
            (process-menu-delete-process)
            (process-live-p p)))))
   (error err))
 (with-temp-buffer
   (condition-case err
       (process-menu-delete-process)
     (error (and (eq (car err) 'error)
                 (string-match-p "has no process" (cadr err))
                 t))))
 (condition-case err (process-menu-visit-buffer nil) (error err))
 (condition-case err (process-menu-visit-buffer 1) (error err))
 (process-menu-mode))
