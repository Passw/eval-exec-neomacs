; negative indices/subgroups should signal cleanly (not panic) with oracle-compatible payloads.
(let ((b (get-buffer-create "vm-neg-index")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (condition-case err (buffer-substring -1 2) (error err))))

(let ((b (get-buffer-create "vm-neg-index")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (condition-case err (buffer-substring 1 -1) (error err))))

(let ((b (get-buffer-create "vm-neg-index")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (condition-case err (delete-region -1 2) (error err))))

(let ((b (get-buffer-create "vm-neg-index")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (condition-case err (delete-region 1 -1) (error err))))

(with-temp-buffer
  (insert "abc")
  (condition-case err (narrow-to-region -1 2) (error err)))

(with-temp-buffer
  (insert "abc")
  (condition-case err (narrow-to-region 1 -1) (error err)))

(with-temp-buffer
  (insert "abc")
  (list (char-after -1) (char-before -1) (char-after 0) (char-before 0)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-min))
  (string-match "a" (buffer-string))
  (condition-case err (match-string -1) (error err)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-min))
  (string-match "a" (buffer-string))
  (condition-case err (match-beginning -1) (error err)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-min))
  (string-match "a" (buffer-string))
  (condition-case err (match-end -1) (error err)))
