; kill-ring-yank-pointer malformed/non-tail semantics.
(setq kill-ring (list "a" "b" "c"))
(setq kill-ring-yank-pointer 42)
(condition-case err
    (current-kill 0 t)
  (error (car err)))

(setq kill-ring (list "a" "b" "c"))
(setq kill-ring-yank-pointer 42)
(condition-case err
    (current-kill 1 nil)
  (error (car err)))
(condition-case err
    (car kill-ring-yank-pointer)
  (error (car err)))

(setq kill-ring (list "a" "b" "c"))
(setq kill-ring-yank-pointer (list "b" "c"))
(condition-case err
    (current-kill 0 t)
  (error (car err)))

(setq kill-ring (list "a" "b" "c"))
(setq kill-ring-yank-pointer (list "b" "c"))
(condition-case err
    (current-kill 0 nil)
  (error (car err)))
(condition-case err
    (car kill-ring-yank-pointer)
  (error (car err)))

(setq kill-ring (list "a" "b" "c"))
(setq kill-ring-yank-pointer nil)
(condition-case err
    (current-kill 1 nil)
  (error (car err)))
(condition-case err
    (car kill-ring-yank-pointer)
  (error (car err)))

(with-temp-buffer
  (setq kill-ring (list "a" "b" "c"))
  (setq kill-ring-yank-pointer 42)
  (condition-case err
      (yank)
    (error (car err))))

(with-temp-buffer
  (setq kill-ring (list "a" "b" "c"))
  (setq kill-ring-yank-pointer 42)
  (condition-case err
      (yank-pop 1)
    (error (car err))))
