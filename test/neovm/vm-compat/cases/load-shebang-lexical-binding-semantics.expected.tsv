1	(progn (setq vm-load-shebang-source "/tmp/neovm-load-shebang-lexical-binding-semantics.el") 'ok)	OK ok
2	(let ((orig (current-buffer)) (buf (get-buffer-create " *vm-load-shebang-src*"))) (unwind-protect (progn (set-buffer buf) (erase-buffer) (insert "#!/usr/bin/env emacs --script") (insert (char-to-string 10)) (insert ";; -*- lexical-binding: t; -*-") (insert (char-to-string 10)) (insert "(setq vm-load-shebang-probe lexical-binding)") (insert (char-to-string 10)) (insert "(setq vm-load-shebang-fn (let ((x 41)) (lambda () (+ x 1))))") (insert (char-to-string 10)) (write-region nil nil vm-load-shebang-source nil nil)) (set-buffer orig) (kill-buffer buf)))	OK nil
3	(load vm-load-shebang-source nil t)	OK t
4	vm-load-shebang-probe	OK t
5	(let ((lexical-binding nil)) (funcall vm-load-shebang-fn))	OK 42
6	(ignore-errors (delete-file vm-load-shebang-source))	OK nil
7	(progn (setq vm-load-shebang-noncookie-source "/tmp/neovm-load-shebang-lexical-binding-noncookie-semantics.el") 'ok)	OK ok
8	(let ((orig (current-buffer)) (buf (get-buffer-create " *vm-load-shebang-noncookie-src*"))) (unwind-protect (progn (set-buffer buf) (erase-buffer) (insert "#!/usr/bin/env emacs --script") (insert (char-to-string 10)) (insert "(setq vm-load-shebang-noncookie-string \"lexical-binding: t\")") (insert (char-to-string 10)) (insert "(setq vm-load-shebang-noncookie-probe lexical-binding)") (insert (char-to-string 10)) (insert "(setq vm-load-shebang-noncookie-fn (let ((x 41)) (lambda () (+ x 1))))") (insert (char-to-string 10)) (write-region nil nil vm-load-shebang-noncookie-source nil nil)) (set-buffer orig) (kill-buffer buf)))	OK nil
9	(load vm-load-shebang-noncookie-source nil t)	OK t
10	vm-load-shebang-noncookie-probe	OK nil
11	(condition-case err (let ((lexical-binding nil)) (funcall vm-load-shebang-noncookie-fn)) (error (list 'error (car err))))	OK (error void-variable)
12	(ignore-errors (delete-file vm-load-shebang-noncookie-source))	OK nil
13	(progn (setq vm-load-shebang-eof-source "/tmp/neovm-load-shebang-lexical-binding-eof-semantics.el") 'ok)	OK ok
14	(let ((orig (current-buffer)) (buf (get-buffer-create " *vm-load-shebang-eof-src*"))) (unwind-protect (progn (set-buffer buf) (erase-buffer) (insert "#!/usr/bin/env emacs --script") (write-region nil nil vm-load-shebang-eof-source nil nil)) (set-buffer orig) (kill-buffer buf)))	OK nil
15	(condition-case err (load vm-load-shebang-eof-source nil t) (error (list 'error (car err))))	OK (error end-of-file)
16	(ignore-errors (delete-file vm-load-shebang-eof-source))	OK nil
