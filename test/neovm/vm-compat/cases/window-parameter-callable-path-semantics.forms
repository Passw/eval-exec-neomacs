(let ((w (selected-window)))
  (null (funcall #'window-parameter w 'neovm-vmcompat-window-callable-key)))
(let* ((w (selected-window))
       (_ (funcall #'set-window-parameter w 'neovm-vmcompat-window-callable-key 101)))
  (funcall #'window-parameter w 'neovm-vmcompat-window-callable-key))
(let* ((w (selected-window))
       (_ (apply #'set-window-parameter (list w 'neovm-vmcompat-window-callable-key 102))))
  (apply #'window-parameter (list w 'neovm-vmcompat-window-callable-key)))
(let* ((getfn (indirect-function 'window-parameter))
       (setfn (indirect-function 'set-window-parameter))
       (w (selected-window))
       (_ (funcall setfn w 'neovm-vmcompat-window-callable-key 103)))
  (funcall getfn w 'neovm-vmcompat-window-callable-key))
(let ((w (selected-window)))
  (listp (funcall #'window-parameters w)))
(let ((w (selected-window)))
  (listp (apply #'window-parameters (list w))))
(let ((fn (indirect-function 'window-parameters))
      (w (selected-window)))
  (listp (funcall fn w)))

(condition-case err
    (funcall #'window-parameter 999999 'neovm-vmcompat-window-callable-key)
  (error err))
(condition-case err
    (apply #'window-parameter (list 999999 'neovm-vmcompat-window-callable-key))
  (error err))
(condition-case err
    (funcall #'set-window-parameter 999999 'neovm-vmcompat-window-callable-key 1)
  (error err))
(condition-case err
    (apply #'set-window-parameter (list 999999 'neovm-vmcompat-window-callable-key 1))
  (error err))
(condition-case err
    (funcall #'window-parameters 999999)
  (error err))
(condition-case err
    (apply #'window-parameters '(999999))
  (error err))

(condition-case err (funcall #'window-parameter nil) (error err))
(condition-case err (funcall #'set-window-parameter nil nil) (error err))
(condition-case err (funcall #'window-parameters nil nil) (error err))
(condition-case err (apply #'window-parameter '(nil nil nil)) (error err))
(condition-case err (apply #'set-window-parameter '(nil nil nil nil)) (error err))
(condition-case err (apply #'window-parameters '(nil nil)) (error err))
