(fboundp 'display-save-under)
(fboundp 'display-selections-p)

(display-save-under)
(display-save-under nil)
(display-save-under (car (terminal-list)))
(display-save-under (selected-frame))
(condition-case err
    (display-save-under (selected-window))
  (error
   (list (car err)
         (not (null (string-match-p "get-device-terminal" (cadr err)))))))
(condition-case err
    (display-save-under 1)
  (error (car err)))
(condition-case err
    (display-save-under "x")
  (error (cadr err)))
(condition-case err
    (display-save-under nil nil)
  (error (car err)))

(display-selections-p)
(display-selections-p nil)
(display-selections-p (car (terminal-list)))
(display-selections-p (selected-frame))
(condition-case err
    (display-selections-p (selected-window))
  (error
   (list (car err)
         (not (null (string-match-p "get-device-terminal" (cadr err)))))))
(condition-case err
    (display-selections-p 1)
  (error (car err)))
(condition-case err
    (display-selections-p "x")
  (error (cadr err)))
(condition-case err
    (display-selections-p nil nil)
  (error (car err)))

(subr-arity (symbol-function 'display-save-under))
(subr-arity (symbol-function 'display-selections-p))
