(fboundp 'execute-extended-command)
(subr-arity (symbol-function 'execute-extended-command))

(setq neo-eec-seen-vars :unset)
(setq neo-eec-seen-P :unset)
(setq neo-eec-seen-p :unset)

(defun neo-eec-vars ()
  (interactive)
  (setq neo-eec-seen-vars (list current-prefix-arg prefix-arg))
  'neo-eec-vars-ret)

(defun neo-eec-P (arg)
  (interactive "P")
  (setq neo-eec-seen-P arg)
  'neo-eec-P-ret)

(defun neo-eec-p (arg)
  (interactive "p")
  (setq neo-eec-seen-p arg)
  'neo-eec-p-ret)

(list (execute-extended-command nil "neo-eec-vars") neo-eec-seen-vars)
(list (execute-extended-command 7 "neo-eec-vars") neo-eec-seen-vars)
(list (execute-extended-command '(4) "neo-eec-vars") neo-eec-seen-vars)
(list (execute-extended-command '- "neo-eec-vars") neo-eec-seen-vars)

(let ((prefix-arg '(5))
      (current-prefix-arg '(6)))
  (execute-extended-command 7 "neo-eec-vars")
  neo-eec-seen-vars)

(list (execute-extended-command 7 "neo-eec-P") neo-eec-seen-P)
(list (execute-extended-command '(4) "neo-eec-P") neo-eec-seen-P)
(list (execute-extended-command '- "neo-eec-P") neo-eec-seen-P)

(list (execute-extended-command 7 "neo-eec-p") neo-eec-seen-p)
(list (execute-extended-command '(4) "neo-eec-p") neo-eec-seen-p)
(list (execute-extended-command '- "neo-eec-p") neo-eec-seen-p)
