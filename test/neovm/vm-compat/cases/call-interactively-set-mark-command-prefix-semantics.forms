; call-interactively should honor current-prefix-arg for set-mark-command.

(with-temp-buffer
  (insert "abc")
  (goto-char (point-max))
  (let ((current-prefix-arg nil))
    (command-execute 'set-mark-command)
    (list (point) (mark t) mark-active)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-max))
  (set-mark (point-min))
  (setq mark-active nil)
  (let ((current-prefix-arg '(4)))
    (command-execute 'set-mark-command)
    (list (point) (mark t) mark-active)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-max))
  (set-mark (point-min))
  (setq mark-active nil)
  (let ((current-prefix-arg '(4)))
    (call-interactively 'set-mark-command)
    (list (point) (mark t) mark-active)))

(with-temp-buffer
  (insert "abc")
  (goto-char (point-max))
  (let ((current-prefix-arg '(4)))
    (condition-case err
        (call-interactively 'set-mark-command)
      (error (car err)))))
