(list
 (let ((p (start-process "neo-eof-stale" nil "cat")))
   (unwind-protect
       (progn
         (delete-process p)
         (list
          (condition-case err (process-send-eof p) (error err))
          (condition-case err (process-send-eof "neo-eof-stale") (error err))
          (condition-case err (process-running-child-p p) (error err))
          (condition-case err (process-running-child-p "neo-eof-stale") (error err))))
     (ignore-errors (delete-process p))))
 (list
  (condition-case err (process-send-eof) (error (car err)))
  (condition-case err (process-send-eof nil) (error (car err)))
  (condition-case err (process-running-child-p) (error (car err)))
  (condition-case err (process-running-child-p nil) (error (car err)))
  (condition-case err (process-send-eof nil nil) (error (car err)))
  (condition-case err (process-running-child-p nil nil) (error (car err)))))
