(fboundp 'self-insert-command)
(subr-arity (symbol-function 'self-insert-command))

(with-temp-buffer
  (let ((last-command-event 97))
    (self-insert-command 1)
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 97))
    (self-insert-command 2)
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 97))
    (self-insert-command 2 nil)
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 97))
    (self-insert-command 2 t)
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event '(mouse-1)))
    (condition-case err (self-insert-command 1) (error err))
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event nil))
    (condition-case err (self-insert-command 1) (error err))
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 97))
    (self-insert-command 0)
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 97))
    (condition-case err (self-insert-command -1) (error err))))

(with-temp-buffer
  (condition-case err (self-insert-command "x") (error err)))

(with-temp-buffer
  (condition-case err (self-insert-command 1 nil nil) (error err)))

(with-temp-buffer
  (let ((last-command-event 98))
    (command-execute 'self-insert-command nil [98])
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event nil))
    (command-execute 'self-insert-command nil [99])
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event 100))
    (call-interactively 'self-insert-command nil [100])
    (buffer-string)))

(with-temp-buffer
  (let ((last-command-event nil))
    (call-interactively 'self-insert-command nil [101])
    (buffer-string)))
