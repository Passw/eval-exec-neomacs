; discard-input should clear unread-command-events in current scope and return nil.
(discard-input)
(let ((unread-command-events (list 97 98)))
  (list (discard-input) unread-command-events))
(let ((unread-command-events (list 'foo 97)))
  (progn (discard-input) unread-command-events))
(let ((unread-command-events 7))
  (list (discard-input) unread-command-events))
(let ((unread-command-events (cons nil 7)))
  (list (discard-input) unread-command-events))
(let ((unread-command-events (list 97)))
  (list (discard-input) (input-pending-p)))
(let ((unread-command-events (list 97)))
  (discard-input)
  unread-command-events)
(condition-case err (discard-input nil) (list (car err) (cdr err)))

(let ((unread-command-events [97]))
  (list (discard-input) unread-command-events))

(let ((unread-command-events '(97 . foo)))
  (list (discard-input) unread-command-events))

(let ((unread-command-events '(foo . 97)))
  (list (discard-input) unread-command-events))

(let ((unread-command-events (list 'foo 97 98)))
  (progn
    (discard-input)
    unread-command-events))

(let ((unread-command-events (list 97 98)))
  (discard-input)
  (list (input-pending-p) unread-command-events))
