(progn
  (defvaralias 'vm-setq-alias 'vm-setq-base)
  (setq vm-setq-alias 3)
  (list (symbol-value 'vm-setq-base)
        (symbol-value 'vm-setq-alias)))
(progn
  (setq vm-setq-watch-events nil)
  (fset 'vm-setq-watch-rec
        (lambda (symbol newval operation where)
          (setq vm-setq-watch-events
                (cons (list symbol newval operation where)
                      vm-setq-watch-events))))
  (defvaralias 'vm-setq-watch 'vm-setq-watch-base)
  (add-variable-watcher 'vm-setq-watch-base 'vm-setq-watch-rec)
  (setq vm-setq-watch 9)
  (length vm-setq-watch-events))
(progn
  (defvaralias 'vm-setq-const 'nil)
  (let ((x 0))
    (condition-case err
        (setq vm-setq-const (setq x 1))
      (error (list err x)))))
