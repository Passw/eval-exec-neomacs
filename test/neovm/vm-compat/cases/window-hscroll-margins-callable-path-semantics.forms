(integerp (funcall #'window-hscroll nil))
(integerp (apply #'window-hscroll '(nil)))
(let ((fn (indirect-function 'window-hscroll)))
  (integerp (funcall fn nil)))
(condition-case err (funcall #'window-hscroll nil nil) (error err))
(condition-case err (apply #'window-hscroll '(nil nil)) (error err))
(condition-case err (funcall #'window-hscroll 999999) (error err))
(condition-case err (apply #'window-hscroll '(999999)) (error err))

(let ((w (selected-window)))
  (progn
    (funcall #'set-window-hscroll w 3)
    (integerp (window-hscroll w))))
(let ((w (selected-window)))
  (progn
    (apply #'set-window-hscroll (list w 4))
    (integerp (window-hscroll w))))
(let ((setfn (indirect-function 'set-window-hscroll))
      (w (selected-window)))
  (progn
    (funcall setfn w 5)
    (integerp (window-hscroll w))))
(condition-case err (funcall #'set-window-hscroll nil) (error err))
(condition-case err (apply #'set-window-hscroll '(nil)) (error err))
(condition-case err (funcall #'set-window-hscroll nil 1 nil) (error err))
(condition-case err (apply #'set-window-hscroll '(nil 1 nil)) (error err))
(condition-case err (funcall #'set-window-hscroll 999999 1) (error err))
(condition-case err (apply #'set-window-hscroll '(999999 1)) (error err))

(consp (funcall #'window-margins nil))
(consp (apply #'window-margins '(nil)))
(let ((fn (indirect-function 'window-margins)))
  (consp (funcall fn nil)))
(condition-case err (funcall #'window-margins nil nil) (error err))
(condition-case err (apply #'window-margins '(nil nil)) (error err))
(condition-case err (funcall #'window-margins 999999) (error err))
(condition-case err (apply #'window-margins '(999999)) (error err))

(let ((w (selected-window)))
  (progn
    (funcall #'set-window-margins w 1 2)
    (consp (window-margins w))))
(let ((w (selected-window)))
  (progn
    (apply #'set-window-margins (list w 2 3))
    (consp (window-margins w))))
(let ((setfn (indirect-function 'set-window-margins))
      (w (selected-window)))
  (progn
    (funcall setfn w 3 4)
    (consp (window-margins w))))
(condition-case err (funcall #'set-window-margins nil) (error err))
(condition-case err (apply #'set-window-margins '(nil)) (error err))
(condition-case err (funcall #'set-window-margins nil 1 2 3) (error err))
(condition-case err (apply #'set-window-margins '(nil 1 2 3)) (error err))
(condition-case err (funcall #'set-window-margins 999999 1 2) (error err))
(condition-case err (apply #'set-window-margins '(999999 1 2)) (error err))
