(list
 (let ((p (start-process "neo-pss-stale" nil "cat")))
   (unwind-protect
       (progn
         (delete-process p)
         (list
          (condition-case err (process-send-string p "x") (error err))
          (condition-case err (process-send-string "neo-pss-stale" "x") (error err))
          (condition-case err (process-send-string p nil) (error err))
          (condition-case err (process-send-string "neo-pss-stale" nil) (error err))))
     (ignore-errors (delete-process p))))
 (list
  (condition-case err (process-send-string) (error err))
  (condition-case err (process-send-string nil) (error err))
  (condition-case err (process-send-string nil "x" nil) (error err))))
