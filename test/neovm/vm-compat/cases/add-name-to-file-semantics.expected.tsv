1	(condition-case err (add-name-to-file 1 "/tmp/x") (error err))	OK (wrong-type-argument stringp 1)
2	(condition-case err (add-name-to-file "/tmp/x" 1) (error err))	OK (wrong-type-argument stringp 1)
3	(condition-case err (add-name-to-file "/tmp/x") (error err))	OK (wrong-number-of-arguments add-name-to-file 1)
4	(let* ((base (make-temp-file "neovm-add-name-" t)) (src (expand-file-name "src.txt" base)) (dst (expand-file-name "dst.txt" base))) (with-temp-buffer (insert "x") (write-region nil nil src)) (prog1 (list (add-name-to-file src dst) (file-exists-p dst) (file-equal-p src dst)) (delete-file dst) (delete-file src) (delete-directory base)))	OK (nil t t)
5	(let* ((base (make-temp-file "neovm-add-name-exists-" t)) (src (expand-file-name "src.txt" base)) (dst (expand-file-name "dst.txt" base))) (with-temp-buffer (insert "x") (write-region nil nil src)) (with-temp-buffer (insert "y") (write-region nil nil dst)) (prog1 (list (condition-case err (add-name-to-file src dst) (error (car err))) (condition-case err (add-name-to-file src dst t) (error (car err))) (file-exists-p dst) (file-equal-p src dst)) (delete-file dst) (delete-file src) (delete-directory base)))	OK (file-already-exists nil t t)
6	(let* ((base (make-temp-file "neovm-add-name-missing-" t)) (src (expand-file-name "missing-src.txt" base)) (dst (expand-file-name "dst.txt" base))) (prog1 (condition-case err (add-name-to-file src dst) (error (car err))) (delete-directory base)))	OK file-missing
7	(let* ((base (make-temp-file "neovm-add-name-eval-" t)) (src (expand-file-name "src.txt" base))) (with-temp-buffer (insert "x") (write-region nil nil src)) (prog1 (let ((default-directory (file-name-as-directory base))) (list (add-name-to-file "src.txt" "dst.txt") (file-equal-p "src.txt" "dst.txt"))) (delete-file (expand-file-name "dst.txt" base)) (delete-file src) (delete-directory base)))	OK (nil t)
