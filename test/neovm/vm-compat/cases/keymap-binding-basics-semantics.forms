(fboundp 'global-set-key)
(fboundp 'local-set-key)
(fboundp 'lookup-key)
(fboundp 'key-binding)

(condition-case err (equal (global-set-key "a" 'ignore) 'ignore) (error err))
(condition-case err (equal (lookup-key (current-global-map) "a") 'ignore) (error err))
(condition-case err (equal (local-set-key "b" 'ignore) 'ignore) (error err))
(condition-case err (equal (lookup-key (current-local-map) "b") 'ignore) (error err))
(condition-case err (key-binding "a") (error err))

(condition-case err (global-set-key) (error (car err)))
(condition-case err (local-set-key) (error (car err)))
(condition-case err (lookup-key) (error (car err)))
