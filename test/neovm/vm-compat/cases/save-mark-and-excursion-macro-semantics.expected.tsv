1	(fboundp 'save-mark-and-excursion)	OK t
2	(macrop 'save-mark-and-excursion)	OK t
3	(special-form-p 'save-mark-and-excursion)	OK nil
4	(functionp 'save-mark-and-excursion)	OK nil
5	(func-arity 'save-mark-and-excursion)	OK (0 . many)
6	(func-arity (indirect-function 'save-mark-and-excursion))	OK (0 . many)
7	(save-current-buffer (let ((b (get-buffer-create "smx-vm-compat"))) (set-buffer b) (erase-buffer) (insert "abcdef") (goto-char 2) (set-mark 5) (setq mark-active nil) (let ((before (list (point) (mark) mark-active))) (save-mark-and-excursion (goto-char 4) (set-mark 3) (setq mark-active t)) (list before (point) (mark) mark-active))))	OK ((2 5 nil) 2 5 nil)
8	(save-current-buffer (let ((b (get-buffer-create "smx-vm-compat-err"))) (set-buffer b) (erase-buffer) (insert "abcdef") (goto-char 2) (set-mark 5) (setq mark-active nil) (list (condition-case err (save-mark-and-excursion (goto-char 4) (set-mark 3) (setq mark-active t) (error "boom")) (error (car err))) (point) (mark) mark-active)))	OK (error 2 5 nil)
9	(macroexpand '(save-mark-and-excursion (setq x 1)))	OK (let ((saved-marker (save-mark-and-excursion--save))) (unwind-protect (save-excursion (setq x 1)) (save-mark-and-excursion--restore saved-marker)))
