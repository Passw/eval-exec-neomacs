(list (fboundp 'window-list-1)
      (subr-arity (symbol-function 'window-list-1)))

(let* ((fn (indirect-function 'window-list-1))
       (a (window-list-1))
       (b (funcall #'window-list-1 nil nil))
       (c (apply #'window-list-1 '(nil nil)))
       (d (funcall fn nil nil)))
  (list (listp a)
        (consp a)
        (equal a b)
        (equal b c)
        (equal b d)
        (null (memq nil (mapcar #'windowp b)))))

(let* ((w (selected-window))
       (fn (indirect-function 'window-list-1))
       (a (funcall #'window-list-1 w nil))
       (b (apply #'window-list-1 (list w nil)))
       (c (funcall fn w nil)))
  (list (equal a b)
        (equal a c)
        (null (memq nil (mapcar #'windowp a)))))

(let ((w (split-window)))
  (delete-window w)
  (list (condition-case err (window-list-1 w nil) (error (car err)))
        (condition-case err (funcall #'window-list-1 w nil) (error (car err)))
        (condition-case err (apply #'window-list-1 (list w nil)) (error (car err)))))

(let ((fn (indirect-function 'window-list-1)))
  (list (condition-case err (window-list-1 'foo nil) (error (car err)))
        (condition-case err (funcall #'window-list-1 'foo nil) (error (car err)))
        (condition-case err (apply #'window-list-1 '(foo nil)) (error (car err)))
        (condition-case err (funcall fn 'foo nil) (error (car err)))))

(list (and (listp (window-list-1 nil nil t)) (consp (window-list-1 nil nil t)))
      (and (listp (window-list-1 nil nil 'visible)) (consp (window-list-1 nil nil 'visible)))
      (and (listp (window-list-1 nil nil 0)) (consp (window-list-1 nil nil 0)))
      (and (listp (window-list-1 nil nil :bad)) (consp (window-list-1 nil nil :bad))))
