(fboundp 'put-image)
(fboundp 'insert-image)

(condition-case err
    (put-image nil 1)
  (error err))
(condition-case err
    (put-image 1 1)
  (error err))
(condition-case err
    (put-image (create-image "x" 'pbm t) "p")
  (error err))
(put-image (create-image "x" 'pbm t) 1)
(put-image (create-image "x" 'pbm t) ?a)

(condition-case err
    (insert-image nil)
  (error err))
(condition-case err
    (insert-image 42)
  (error err))
(insert-image (create-image "x" 'pbm t))
(insert-image (create-image "x" 'pbm t) nil nil nil nil)
(condition-case err
    (insert-image (create-image "x" 'pbm t) nil nil nil nil nil)
  (error (car err)))
