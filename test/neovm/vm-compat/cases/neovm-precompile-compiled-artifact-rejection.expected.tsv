1	(setq vm-precompile-bad-dir "/tmp/neovm-precompile-compiled-reject/")	OK "/tmp/neovm-precompile-compiled-reject/"
2	(progn (ignore-errors (delete-directory vm-precompile-bad-dir t)) (make-directory vm-precompile-bad-dir t) 'ok)	OK ok
3	(setq vm-precompile-bad-elc (concat vm-precompile-bad-dir "probe.elc"))	OK "/tmp/neovm-precompile-compiled-reject/probe.elc"
4	(setq vm-precompile-bad-elc-gz (concat vm-precompile-bad-dir "probe.elc.gz"))	OK "/tmp/neovm-precompile-compiled-reject/probe.elc.gz"
5	(setq vm-precompile-bad-cache (concat vm-precompile-bad-dir "probe.neoc"))	OK "/tmp/neovm-precompile-compiled-reject/probe.neoc"
6	(setq vm-precompile-bad-cache-gz (concat vm-precompile-bad-dir "probe.elc.neoc"))	OK "/tmp/neovm-precompile-compiled-reject/probe.elc.neoc"
7	(setq vm-precompile-bad-cache-tmp (concat vm-precompile-bad-dir "probe.neoc.tmp"))	OK "/tmp/neovm-precompile-compiled-reject/probe.neoc.tmp"
8	(setq vm-precompile-bad-cache-gz-tmp (concat vm-precompile-bad-dir "probe.elc.neoc.tmp"))	OK "/tmp/neovm-precompile-compiled-reject/probe.elc.neoc.tmp"
9	(let ((orig (current-buffer)) (buf (get-buffer-create " *vm-precompile-bad-elc*"))) (unwind-protect (progn (set-buffer buf) (erase-buffer) (insert "compiled-artifact") (write-region nil nil vm-precompile-bad-elc nil nil)) (set-buffer orig) (kill-buffer buf)))	OK nil
10	(let ((orig (current-buffer)) (buf (get-buffer-create " *vm-precompile-bad-elc-gz*"))) (unwind-protect (progn (set-buffer buf) (erase-buffer) (insert "compiled-artifact-gz") (write-region nil nil vm-precompile-bad-elc-gz nil nil)) (set-buffer orig) (kill-buffer buf)))	OK nil
11	(condition-case err (neovm-precompile-file vm-precompile-bad-elc) (error (car err)))	OK file-error
12	(condition-case err (neovm-precompile-file vm-precompile-bad-elc-gz) (error (car err)))	OK file-error
13	(let ((err (condition-case err (neovm-precompile-file vm-precompile-bad-elc) (error err)))) (and (eq (car err) 'file-error) (stringp (cadr err)) (not (null (string-match-p "compiled artifacts" (cadr err)))) (not (null (string-match-p "probe\\.elc" (cadr err))))))	OK t
14	(let ((err (condition-case err (neovm-precompile-file vm-precompile-bad-elc-gz) (error err)))) (and (eq (car err) 'file-error) (stringp (cadr err)) (not (null (string-match-p "compiled artifacts" (cadr err)))) (not (null (string-match-p "probe\\.elc\\.gz" (cadr err))))))	OK t
15	(file-exists-p vm-precompile-bad-cache)	OK nil
16	(file-exists-p vm-precompile-bad-cache-gz)	OK nil
17	(file-exists-p vm-precompile-bad-cache-tmp)	OK nil
18	(file-exists-p vm-precompile-bad-cache-gz-tmp)	OK nil
19	(delete-file vm-precompile-bad-elc)	OK nil
20	(delete-file vm-precompile-bad-elc-gz)	OK nil
21	(delete-directory vm-precompile-bad-dir t)	OK nil
