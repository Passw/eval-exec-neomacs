; Lock in arity contracts for core buffer/point helpers.
(fboundp 'current-buffer)
(fboundp 'buffer-string)
(fboundp 'point)
(fboundp 'point-min)
(fboundp 'point-max)
(fboundp 'buffer-name)
(fboundp 'buffer-file-name)

(with-temp-buffer
  (insert "abc")
  (goto-char 2)
  (list (point-min) (point) (point-max) (buffer-string)))
(with-temp-buffer (stringp (buffer-name)))
(with-temp-buffer (buffer-file-name))

(condition-case err (current-buffer nil) (error (car err)))
(condition-case err (buffer-string nil) (error (car err)))
(condition-case err (point nil) (error (car err)))
(condition-case err (point-min nil) (error (car err)))
(condition-case err (point-max nil) (error (car err)))
(condition-case err (buffer-name nil nil) (error (car err)))
(condition-case err (buffer-file-name nil nil) (error (car err)))
