; keymap.c â€” keymap operations
; make-keymap / keymapp
(keymapp (make-keymap))
(keymapp (make-sparse-keymap))
(not (keymapp nil))
(not (keymapp 42))

; current-global-map
(keymapp (current-global-map))

; current-local-map (nil in temp buffer)
(with-temp-buffer
  (or (null (current-local-map)) (keymapp (current-local-map))))

; define-key / lookup-key
(let ((km (make-sparse-keymap)))
  (define-key km "a" 'self-insert-command)
  (eq (lookup-key km "a") 'self-insert-command))
(let ((km (make-sparse-keymap)))
  (define-key km (kbd "C-a") 'beginning-of-line)
  (eq (lookup-key km (kbd "C-a")) 'beginning-of-line))

; keymap-parent / set-keymap-parent
(let ((km (make-sparse-keymap)))
  (eq (keymap-parent km) nil))
(let ((km (make-sparse-keymap))
      (parent (make-sparse-keymap)))
  (set-keymap-parent km parent)
  (eq (keymap-parent km) parent))

; copy-keymap
(let ((km (make-sparse-keymap)))
  (define-key km "a" 'self-insert-command)
  (let ((km2 (copy-keymap km)))
    (eq (lookup-key km2 "a") 'self-insert-command)))

; where-is-internal
(listp (where-is-internal 'self-insert-command))

; key-description
(stringp (key-description "a"))
(equal (key-description "a") "a")

; kbd
(stringp (kbd "C-x C-f"))
