(mapcar (lambda (sym)
          (list sym
                (fboundp sym)
                (subrp (symbol-function sym))
                (subr-arity (symbol-function sym))
                (commandp sym)))
        '(run-hooks run-hook-with-args))

(list
 (list 'run-hooks-nonlist-dotted-and-errors
       (setq hook-count 0)
       (defun hook-inc () (setq hook-count (1+ hook-count)))
       (setq hook-probe-hook 'hook-inc)
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       hook-count
       (setq hook-count 0)
       (setq hook-probe-hook (cons 'hook-inc 1))
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       hook-count
       (setq hook-probe-hook t)
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       (setq hook-probe-hook 42)
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       (setq hook-probe-hook [hook-inc])
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       (setq hook-probe-hook '(t hook-inc))
       (setq hook-count 0)
       (condition-case err (run-hooks 'hook-probe-hook) (error err))
       hook-count
       (condition-case err (run-hooks 1) (error err)))
 (list 'run-hook-with-args-nonlist-dotted-and-errors
       (setq hook-log nil)
       (defun hook-log-fn (&rest args) (setq hook-log (cons args hook-log)))
       (setq hook-probe-hook 'hook-log-fn)
       (condition-case err (run-hook-with-args 'hook-probe-hook 1 2) (error err))
       hook-log
       (setq hook-log nil)
       (setq hook-probe-hook (cons 'hook-log-fn 1))
       (condition-case err (run-hook-with-args 'hook-probe-hook 3) (error err))
       hook-log
       (setq hook-probe-hook t)
       (condition-case err (run-hook-with-args 'hook-probe-hook 4) (error err))
       (setq hook-probe-hook 42)
       (condition-case err (run-hook-with-args 'hook-probe-hook 5) (error err))
       (setq hook-probe-hook [hook-log-fn])
       (condition-case err (run-hook-with-args 'hook-probe-hook 6) (error err))
       (setq hook-log nil)
       (setq hook-probe-hook '(t hook-log-fn))
       (condition-case err (run-hook-with-args 'hook-probe-hook 7) (error err))
       hook-log
       (condition-case err (run-hook-with-args 1 2) (error err))))
