; file-newer-than-file-p argument validation and mtime semantics.

(condition-case err
    (file-newer-than-file-p 1 "/tmp")
  (error err))

(condition-case err
    (file-newer-than-file-p "/tmp" 1)
  (error err))

(condition-case err
    (file-newer-than-file-p "/tmp")
  (error err))

(let ((same (make-temp-file "neovm-file-newer-same-")))
  (prog1
      (file-newer-than-file-p same same)
    (delete-file same)))

(let ((existing (make-temp-file "neovm-file-newer-existing-"))
      (missing "/tmp/neovm-file-newer-missing"))
  (prog1
      (list (file-newer-than-file-p missing existing)
            (file-newer-than-file-p existing missing))
    (delete-file existing)))

(let* ((base (make-temp-file "neovm-file-newer-eval-" t))
       (same (expand-file-name "same.txt" base)))
  (with-temp-buffer
    (insert "same")
    (write-region nil nil same))
  (prog1
      (let ((default-directory (file-name-as-directory base)))
        (list (file-newer-than-file-p "same.txt" "same.txt")
              (file-newer-than-file-p "same.txt" "missing.txt")))
    (delete-file same)
    (delete-directory base)))
