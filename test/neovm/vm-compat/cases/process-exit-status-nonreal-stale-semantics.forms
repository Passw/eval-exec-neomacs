(list
 (let ((p (make-network-process :name "neo-exit-net" :server t :service 0)))
   (unwind-protect
       (progn
         (delete-process p)
         (list
          (process-status p)
          (process-exit-status p)
          (condition-case err (process-exit-status "neo-exit-net") (error err))))
     (ignore-errors (delete-process p))))
 (let ((p (make-pipe-process :name "neo-exit-pipe")))
   (unwind-protect
       (progn
         (delete-process p)
         (list
          (process-status p)
          (process-exit-status p)
          (condition-case err (process-exit-status "neo-exit-pipe") (error err))))
     (ignore-errors (delete-process p)))))
