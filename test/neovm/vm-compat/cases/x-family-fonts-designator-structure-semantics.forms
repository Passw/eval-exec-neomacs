(defun neovm-vm-compat-make-dead-window ()
  (let ((w (split-window (selected-window) nil 'below)))
    (delete-window w)
    w))
(x-family-fonts)
(x-family-fonts nil nil)
(x-family-fonts "abc")
(x-family-fonts "abc" nil)
(x-family-fonts "abc" (selected-frame))
(let ((arg 1))
  (condition-case err
      (x-family-fonts arg)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'stringp)
                 (equal (nth 2 err) arg)))))
(let ((arg [foo]))
  (condition-case err
      (x-family-fonts arg)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'stringp)
                 (equal (nth 2 err) arg)))))
(let ((arg '(foo)))
  (condition-case err
      (x-family-fonts arg)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'stringp)
                 (equal (nth 2 err) arg)))))
(let ((arg '(foo . bar)))
  (condition-case err
      (x-family-fonts arg)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'stringp)
                 (equal (nth 2 err) arg)))))
(let ((arg "abc")
      (designator 1))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (equal (nth 2 err) designator)))))
(let ((arg "abc")
      (designator [foo]))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (equal (nth 2 err) designator)))))
(let ((arg "abc")
      (designator '(foo)))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (equal (nth 2 err) designator)))))
(let ((arg "abc")
      (designator '(foo . bar)))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (equal (nth 2 err) designator)))))
(let ((arg "abc")
      (designator (car (terminal-list))))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (terminalp (nth 2 err))))))
(let ((arg "abc")
      (designator (selected-window)))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (windowp (nth 2 err))
                 (window-live-p (nth 2 err))))))
(let ((arg "abc")
      (designator (neovm-vm-compat-make-dead-window)))
  (condition-case err
      (x-family-fonts arg designator)
    (error (list (eq (car err) 'wrong-type-argument)
                 (eq (cadr err) 'frame-live-p)
                 (windowp (nth 2 err))
                 (not (window-live-p (nth 2 err)))))))
(condition-case err
    (x-family-fonts nil nil nil)
  (error err))
