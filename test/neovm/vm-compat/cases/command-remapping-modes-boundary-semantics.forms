(fboundp 'command-modes)
(subr-arity (symbol-function 'command-modes))
(fboundp 'command-remapping)
(subr-arity (symbol-function 'command-remapping))

(command-modes 'ignore)
(command-modes nil)
(command-modes 0)
(command-modes "ignore")
(command-modes '(lambda () (interactive)))
(command-modes '(lambda (x) x))
(condition-case err
    (command-modes)
  (wrong-number-of-arguments (car err)))

(command-remapping 'ignore)
(command-remapping 'ignore nil)
(command-remapping 'ignore nil nil)
(command-remapping 'ignore nil (make-sparse-keymap))
(command-remapping 'ignore nil (list 'keymap))
(command-remapping 'ignore nil '(1 2 3))
(command-remapping 'ignore nil '(foo))
(command-remapping 'ignore nil '(foo bar))
(command-remapping nil)
(command-remapping 0)
(command-remapping "ignore")
(command-remapping '(lambda () (interactive)))
(command-remapping '(lambda (x) x))
(command-remapping 'ignore '(x) nil)
(command-remapping 'ignore '(x) (make-sparse-keymap))
(command-remapping 'ignore [x] (make-sparse-keymap))

(condition-case err
    (command-remapping 'ignore nil t)
  (wrong-type-argument
   (list 'command-remapping-keymap-type (car err) (cdr err))))
(condition-case err
    (command-remapping 'ignore nil [1])
  (wrong-type-argument
   (list 'command-remapping-keymap-vector-type (car err) (cdr err))))
(condition-case err
    (command-remapping 'ignore nil "x")
  (wrong-type-argument
   (list 'command-remapping-keymap-string-type (car err) (cdr err))))
(condition-case err
    (command-remapping 'ignore nil 1)
  (wrong-type-argument
   (list 'command-remapping-keymap-int-type (car err) (cdr err))))
(condition-case err
    (command-remapping 'ignore nil 'foo)
  (wrong-type-argument
   (list 'command-remapping-keymap-symbol-type (car err) (cdr err))))
(condition-case err
    (command-remapping)
  (wrong-number-of-arguments (car err)))
(condition-case err
    (command-remapping 'ignore nil nil nil)
  (wrong-number-of-arguments (car err)))
