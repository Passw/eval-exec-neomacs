;; Clipboard/input-context `x-*` subr surface and batch/no-X payload semantics.
(mapcar (lambda (sym)
          (list sym
                (fboundp sym)
                (subrp (symbol-function sym))
                (subr-arity (symbol-function sym))))
        '(x-get-clipboard
          x-get-modifier-masks
          x-get-input-coding-system
          x-hide-tip
          x-setup-function-keys
          x-clear-preedit-text
          x-preedit-text
          x-win-suspend-error
          x-device-class
          x-internal-focus-input-context
          x-wm-set-size-hint))

(let ((term (car (terminal-list))))
  (list
   (list 'x-get-clipboard
         (condition-case err (x-get-clipboard) (error err))
         (condition-case err (x-get-clipboard nil) (error (car err))))
   (list 'x-get-modifier-masks
         (condition-case err (x-get-modifier-masks) (error err))
         (condition-case err (x-get-modifier-masks nil) (error err))
         (condition-case err (x-get-modifier-masks term) (error err))
         (condition-case err (x-get-modifier-masks 1) (error err))
         (condition-case err (x-get-modifier-masks "x") (error err))
         (condition-case err (x-get-modifier-masks (selected-frame)) (error err))
         (condition-case err (x-get-modifier-masks nil nil) (error (car err))))
   (list 'x-get-input-coding-system
         (condition-case err (x-get-input-coding-system nil) (error err))
         (condition-case err (x-get-input-coding-system term) (error err))
         (condition-case err (x-get-input-coding-system 1) (error err))
         (condition-case err (x-get-input-coding-system "x") (error err))
         (condition-case err (x-get-input-coding-system nil nil) (error (car err))))
   (list 'x-hide-tip
         (condition-case err (x-hide-tip) (error err))
         (condition-case err (x-hide-tip nil) (error (car err))))
   (list 'x-setup-function-keys
         (condition-case err (x-setup-function-keys nil) (error err))
         (condition-case err (x-setup-function-keys term) (error err))
         (condition-case err (x-setup-function-keys 1) (error err))
         (condition-case err (x-setup-function-keys "x") (error err))
         (condition-case err (x-setup-function-keys (selected-frame)) (error err))
         (condition-case err (x-setup-function-keys) (error (car err)))
         (condition-case err (x-setup-function-keys nil nil) (error (car err))))
   (list 'x-clear-preedit-text
         (condition-case err (x-clear-preedit-text) (error err))
         (condition-case err (x-clear-preedit-text nil) (error (car err))))
   (list 'x-preedit-text
         (condition-case err (x-preedit-text nil) (error err))
         (condition-case err (x-preedit-text term) (error err))
         (condition-case err (x-preedit-text 1) (error err))
         (condition-case err (x-preedit-text "x") (error err))
         (condition-case err (x-preedit-text '(1 2)) (error err))
         (condition-case err (x-preedit-text '(nil nil)) (error err))
         (condition-case err (x-preedit-text '((1 2))) (error err))
         (condition-case err (x-preedit-text '(1 . 2)) (error err))
         (condition-case err (x-preedit-text) (error (car err)))
         (condition-case err (x-preedit-text nil nil) (error (car err))))
   (list 'x-win-suspend-error
         (condition-case err (x-win-suspend-error) (error err))
         (condition-case err (x-win-suspend-error nil) (error (car err))))
   (list 'x-device-class
         (condition-case err (x-device-class nil) (error err))
         (condition-case err (x-device-class term) (error err))
         (condition-case err (x-device-class 1) (error err))
         (condition-case err (x-device-class "x") (error err))
         (condition-case err (x-device-class) (error (car err)))
         (condition-case err (x-device-class nil nil) (error (car err))))
   (list 'x-internal-focus-input-context
         (condition-case err (x-internal-focus-input-context nil) (error err))
         (condition-case err (x-internal-focus-input-context term) (error err))
         (condition-case err (x-internal-focus-input-context 1) (error err))
         (condition-case err (x-internal-focus-input-context "x") (error err))
         (condition-case err (x-internal-focus-input-context (selected-frame)) (error err))
         (condition-case err (x-internal-focus-input-context) (error (car err)))
         (condition-case err (x-internal-focus-input-context nil nil) (error (car err))))
   (list 'x-wm-set-size-hint
         (condition-case err (x-wm-set-size-hint) (error err))
         (condition-case err (x-wm-set-size-hint nil) (error err))
         (condition-case err (x-wm-set-size-hint term) (error err))
         (condition-case err (x-wm-set-size-hint 1) (error err))
         (condition-case err (x-wm-set-size-hint "x") (error err))
         (condition-case err (x-wm-set-size-hint (selected-frame)) (error err))
         (condition-case err (x-wm-set-size-hint nil nil) (error (car err))))))
