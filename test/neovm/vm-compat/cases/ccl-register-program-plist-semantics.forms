; register-ccl-program should publish ccl-program-idx without binding the symbol.
(register-ccl-program 'neovm-ccl-program-plist [10 0 0])
(boundp 'neovm-ccl-program-plist)
(condition-case err
    (symbol-value 'neovm-ccl-program-plist)
  (error (car err)))
(get 'neovm-ccl-program-plist 'ccl-program)
(get 'neovm-ccl-program-plist 'ccl-program-idx)
(let ((plist (symbol-plist 'neovm-ccl-program-plist)))
  (list (null plist)
        (equal (plist-get plist 'ccl-program) [10 0 0])
        (equal (plist-get plist 'ccl-program-idx) 1)))
