(mapcar (lambda (s) (list s (fboundp s) (subr-arity (symbol-function s)))) '(set-window-hscroll set-window-margins))
(let* ((w (selected-window)) (m (car (last (window-list nil t))))) (list (window-hscroll w) (set-window-hscroll w 3) (window-hscroll w) (set-window-hscroll w -1) (window-hscroll w) (set-window-hscroll w ?a) (window-hscroll w) (window-margins w) (set-window-margins w 1 2) (window-margins w) (set-window-margins w 1 2) (set-window-margins w nil nil) (window-margins w) (set-window-margins w 3) (window-margins w) (set-window-margins w 3) (window-hscroll m) (set-window-hscroll m 4) (window-hscroll m) (window-margins m) (set-window-margins m 4 5) (window-margins m)))
(list (condition-case err (set-window-hscroll nil 1.5) (error err)) (condition-case err (set-window-hscroll nil 'foo) (error err)) (condition-case err (set-window-hscroll 999999 1) (error err)) (condition-case err (set-window-hscroll 'foo 1) (error err)) (condition-case err (set-window-hscroll nil) (error err)) (condition-case err (set-window-hscroll nil 1 nil) (error err)) (condition-case err (set-window-margins nil -1 0) (error err)) (condition-case err (set-window-margins nil 1 -2) (error err)) (condition-case err (set-window-margins nil 1.5 0) (error err)) (condition-case err (set-window-margins nil 'foo 0) (error err)) (condition-case err (set-window-margins nil 1 'foo) (error err)) (condition-case err (set-window-margins 999999 1 2) (error err)) (condition-case err (set-window-margins 'foo 1 2) (error err)) (condition-case err (set-window-margins nil) (error err)) (condition-case err (set-window-margins nil 1 2 3) (error err)))
(let ((w (split-window))) (delete-window w) (list (condition-case err (set-window-hscroll w 1) (error (car err))) (condition-case err (set-window-margins w 1 2) (error (car err)))))
