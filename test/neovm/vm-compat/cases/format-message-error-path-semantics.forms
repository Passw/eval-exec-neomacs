(fboundp 'format)
(fboundp 'message)
(fboundp 'format-message)

(condition-case err (format 1) (error err))

(condition-case err (format nil) (error err))

(condition-case err (format 'foo) (error err))

(condition-case err (format "%s %s" 1) (error err))

(condition-case err (message 1) (error err))

(condition-case err (message 'foo) (error err))

(eq (message nil) nil)

(condition-case err (message "%s %s" 1) (error err))

(condition-case err (format-message 1) (error err))

(condition-case err (format-message nil) (error err))

(condition-case err (format-message 'foo) (error err))

(condition-case err (format-message "%s %s" 1) (error err))

(condition-case err (format "%d" "x") (error err))

(condition-case err (format "%f" "x") (error err))

(condition-case err (format "%c" "x") (error err))

(condition-case err (message "%d" "x") (error err))

(condition-case err (message "%f" "x") (error err))

(condition-case err (message "%c" "x") (error err))

(condition-case err (format-message "%d" "x") (error err))

(condition-case err (format-message "%f" "x") (error err))

(condition-case err (format-message "%c" "x") (error err))

(condition-case err (format "%c" -1) (error err))

(condition-case err (message "%c" -1) (error err))

(condition-case err (format-message "%c" -1) (error err))

(let ((s (format "%c" 1114112)))
  (and (= (length s) 1)
       (equal (string-to-list s) '(1114112))))

(let ((s (message "%c" 1114112)))
  (and (= (length s) 1)
       (equal (string-to-list s) '(1114112))))

(let ((s (format-message "%c" 2097152)))
  (and (= (length s) 1)
       (equal (string-to-list s) '(2097152))))
