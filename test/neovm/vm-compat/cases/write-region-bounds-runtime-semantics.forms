; write-region should guard bounds and normalize in-range reversed endpoints.
(let ((b (get-buffer-create "vm-write-neg")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (let ((f (make-temp-file "wr-neg-a-")))
      (unwind-protect
          (condition-case err
              (write-region -1 2 f)
            (error err))
        (ignore-errors (delete-file f))))))

(let ((b (get-buffer-create "vm-write-neg")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (let ((f (make-temp-file "wr-neg-b-")))
      (unwind-protect
          (condition-case err
              (write-region 1 -1 f)
            (error err))
        (ignore-errors (delete-file f))))))

(let ((b (get-buffer-create "vm-write-neg")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (let ((f (make-temp-file "wr-neg-c-")))
      (unwind-protect
          (condition-case err
              (write-region 1 9 f)
            (error err))
        (ignore-errors (delete-file f))))))

(let ((b (get-buffer-create "vm-write-neg")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (let ((f (make-temp-file "wr-neg-order-")))
      (unwind-protect
          (progn
            (write-region 3 1 f)
            (with-temp-buffer
              (insert-file-contents f)
              (buffer-string)))
        (ignore-errors (delete-file f))))))

(let ((b (get-buffer-create "vm-write-neg")))
  (with-current-buffer b
    (erase-buffer)
    (insert "abc")
    (let ((f (make-temp-file "wr-neg-full-")))
      (unwind-protect
          (progn
            (write-region nil nil f)
            (with-temp-buffer
              (insert-file-contents f)
              (buffer-string)))
        (ignore-errors (delete-file f))))))
