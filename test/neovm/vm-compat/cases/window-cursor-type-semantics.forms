(mapcar (lambda (s) (list s (fboundp s) (subr-arity (symbol-function s)))) '(window-cursor-type set-window-cursor-type))
(let* ((w (selected-window)) (m (car (last (window-list nil t))))) (list (window-cursor-type w) (window-cursor-type m) (set-window-cursor-type w nil) (window-cursor-type w) (set-window-cursor-type w 'bar) (window-cursor-type w) (set-window-cursor-type w t) (window-cursor-type w) (set-window-cursor-type m 'hbar) (window-cursor-type m) (set-window-cursor-type m nil) (window-cursor-type m)))
(list (condition-case err (window-cursor-type nil nil) (error err)) (condition-case err (set-window-cursor-type nil) (error err)) (condition-case err (set-window-cursor-type nil nil nil) (error err)) (condition-case err (window-cursor-type 999999) (error err)) (condition-case err (set-window-cursor-type 999999 nil) (error err)) (condition-case err (window-cursor-type 'foo) (error err)) (condition-case err (set-window-cursor-type 'foo nil) (error err)))
(let ((w (split-window))) (delete-window w) (list (condition-case err (window-cursor-type w) (error (car err))) (condition-case err (set-window-cursor-type w nil) (error (car err)))))
