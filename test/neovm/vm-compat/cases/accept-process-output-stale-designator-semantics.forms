; accept-process-output should accept stale process objects as nil, while
; still rejecting non-process designators.
(condition-case err (accept-process-output 1 0.01) (error err))

(let ((p (start-process "neovm-apo-stale" nil "cat")))
  (unwind-protect
      (progn
        (delete-process p)
        (accept-process-output p 0.01))
    (ignore-errors (delete-process p))))

(condition-case err (accept-process-output "__missing-neovm-proc__" 0.01) (error err))
