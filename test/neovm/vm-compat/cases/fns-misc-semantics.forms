; fns.c â€” miscellaneous operations

; random
(integerp (random))
(integerp (random 100))
(let ((r (random 1))) (= r 0))
(condition-case err (random 0) (error (car err)))
(condition-case err (random -1) (error (car err)))

; load-average
(listp (load-average))
(listp (load-average t))
(= (length (load-average)) 3)

; featurep
(featurep 'nonexistent-feature-xyz)

; provide / featurep roundtrip
(progn (provide 'neovm-test-feature-xyz) (featurep 'neovm-test-feature-xyz))

; require of already-provided feature
(progn (provide 'neovm-test-req-xyz) (require 'neovm-test-req-xyz) t)

; line-number-at-pos
(with-temp-buffer (insert "line1\nline2\nline3") (goto-char 1) (line-number-at-pos))
(with-temp-buffer (insert "line1\nline2\nline3") (goto-char 8) (line-number-at-pos))
(with-temp-buffer (insert "line1\nline2\nline3") (goto-char (point-max)) (line-number-at-pos))

; buffer-line-statistics
(with-temp-buffer (insert "abc\ndef\n") (buffer-line-statistics))
(with-temp-buffer (buffer-line-statistics))
(with-temp-buffer (insert "one line") (buffer-line-statistics))

; object-intervals
(object-intervals "abc")
(object-intervals 5)
(object-intervals nil)
