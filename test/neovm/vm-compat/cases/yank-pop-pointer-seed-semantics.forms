; yank/yank-pop behavior with mixed kill-ring-yank-pointer seeds.
(with-temp-buffer
  (setq kill-ring (list "a" "b" "c"))
  (setq kill-ring-yank-pointer (cdr kill-ring))
  (yank)
  (let ((s1 (buffer-string))
        (p1 (car kill-ring-yank-pointer)))
    (setq last-command 'yank)
    (yank-pop 1)
    (let ((s2 (buffer-string))
          (p2 (car kill-ring-yank-pointer)))
      (setq last-command 'yank)
      (yank-pop 1)
      (list s1 p1 s2 p2 (buffer-string) (car kill-ring-yank-pointer)))))

(with-temp-buffer
  (setq kill-ring (list "a" "b" "c"))
  (setq kill-ring-yank-pointer (list "b" "c"))
  (yank)
  (list (buffer-string) (car kill-ring-yank-pointer)))

(with-temp-buffer
  (setq kill-ring (list "a" "b" "c"))
  (setq kill-ring-yank-pointer nil)
  (yank)
  (setq last-command 'yank)
  (yank-pop -1)
  (list (buffer-string) (car kill-ring-yank-pointer)))
