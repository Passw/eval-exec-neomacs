(fboundp 'replace-string)
(with-temp-buffer
  (insert "Foo foo")
  (goto-char (point-min))
  (replace-string "foo" "bar")
  (buffer-string))
(with-temp-buffer
  (insert "abc")
  (goto-char (point-min))
  (replace-string "z" "x")
  (point))
(with-temp-buffer
  (insert "abc")
  (goto-char (point-min))
  (replace-string "" "x")
  (buffer-string))
(condition-case err (replace-string "a") (wrong-number-of-arguments (car err)))
(condition-case err (replace-string 1 "x") (error err))
