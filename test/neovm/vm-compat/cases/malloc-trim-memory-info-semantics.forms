(fboundp 'malloc-trim)
(fboundp 'memory-info)
(malloc-trim)
(malloc-trim nil)
(malloc-trim 0)
(malloc-trim 1)
(condition-case err (malloc-trim -1) (error err))
(condition-case err (malloc-trim t) (error err))
(condition-case err (malloc-trim [1]) (error err))
(condition-case err (malloc-trim 1 2) (error (car err)))
(let ((v (memory-info)))
  (and (listp v)
       (= (length v) 4)
       (numberp (nth 0 v))
       (numberp (nth 1 v))
       (numberp (nth 2 v))
       (numberp (nth 3 v))))
(condition-case err (memory-info 1) (error (car err)))
