(mapcar (lambda (s)
          (list s
                (fboundp s)
                (subrp (symbol-function s))
                (subr-arity (symbol-function s))
                (commandp s)))
        '(accept-process-output
          get-process
          process-live-p
          processp
          process-id
          process-query-on-exit-flag
          set-process-query-on-exit-flag
          process-command
          process-contact
          process-filter
          set-process-filter
          process-sentinel
          set-process-sentinel
          process-plist
          set-process-plist
          process-put
          process-get))

(list
 (condition-case err (accept-process-output) (error err))
 (condition-case err (accept-process-output nil 0.01) (error err))
 (condition-case err (accept-process-output 1) (error err))
 (condition-case err (accept-process-output nil "x") (error err))
 (condition-case err (accept-process-output nil 0.1 1 nil nil) (error (car err)))
 (let ((p (start-process "neovm-proc-surface-a" nil "cat")))
   (unwind-protect
       (list (condition-case err (accept-process-output p 0.0) (error err))
             (equal (process-live-p p) '(run open listen connect stop)))
     (ignore-errors (delete-process p)))))

(let ((p (start-process "neovm-proc-surface-b" nil "cat")))
  (unwind-protect
      (list
       (processp p)
       (equal (process-live-p p) '(run open listen connect stop))
       (integerp (process-id p))
       (process-query-on-exit-flag p)
       (set-process-query-on-exit-flag p nil)
       (process-query-on-exit-flag p)
       (equal (process-command p) '("cat"))
       (process-contact p)
       (process-contact p t)
       (process-filter p)
       (set-process-filter p nil)
       (process-filter p)
       (set-process-filter p 'ignore)
       (process-filter p)
       (process-sentinel p)
       (set-process-sentinel p nil)
       (process-sentinel p)
       (set-process-sentinel p 'ignore)
       (process-sentinel p)
       (process-plist p)
       (set-process-plist p '(a 1))
       (condition-case err (set-process-plist p 1) (error err))
       (process-get p 'a)
       (process-put p 'k 2)
       (process-get p 'k)
       (process-plist p)
       (condition-case err (process-contact p t t t) (error (car err)))
       (process-live-p p)
       (delete-process p)
       (process-live-p p))
    (ignore-errors (delete-process p))))

(let ((p (start-process "neovm-proc-surface-c" nil "cat")))
  (unwind-protect
      (list
       (processp (get-process "neovm-proc-surface-c"))
       (eq p (get-process "neovm-proc-surface-c"))
       (get-process "neovm-proc-surface-missing")
       (condition-case err (get-process 'bad) (error err))
       (condition-case err (get-process) (error (car err)))
       (condition-case err (get-process "x" "y") (error (car err))))
    (ignore-errors (delete-process p))))

(list
 (condition-case err (process-live-p 'x) (error err))
 (condition-case err (processp 'x) (error err))
 (condition-case err (process-id 'x) (error err))
 (condition-case err (process-query-on-exit-flag 'x) (error err))
 (condition-case err (set-process-query-on-exit-flag 'x nil) (error err))
 (condition-case err (process-command 'x) (error err))
 (condition-case err (process-contact 'x) (error err))
 (condition-case err (process-contact 'x t) (error err))
 (condition-case err (process-filter 'x) (error err))
 (condition-case err (set-process-filter 'x 'ignore) (error err))
 (condition-case err (process-sentinel 'x) (error err))
 (condition-case err (set-process-sentinel 'x 'ignore) (error err))
 (condition-case err (process-plist 'x) (error err))
 (condition-case err (set-process-plist 'x '(a 1)) (error err))
 (condition-case err (process-put 'x 'k 1) (error err))
 (condition-case err (process-get 'x 'k) (error err))
 (condition-case err (process-live-p) (error (car err)))
 (condition-case err (process-live-p nil nil) (error (car err)))
 (condition-case err (processp) (error (car err)))
 (condition-case err (processp nil nil) (error (car err))))
