; lread.c â€” reading / interning
; read-from-string
(car (read-from-string "42"))
(car (read-from-string "'foo"))
(car (read-from-string "(1 2 3)"))
(car (read-from-string "\"hello\""))
(car (read-from-string "nil"))
(car (read-from-string "t"))

; intern / intern-soft
(symbolp (intern "test-intern-sym-99"))
(eq (intern "test-intern-sym-99") (intern "test-intern-sym-99"))
(eq (intern-soft "nonexistent-symbol-xyz-99") nil)
(eq (intern-soft "test-intern-sym-99") (intern "test-intern-sym-99"))

; unintern
(progn (intern "temp-sym-to-unintern-99")
  (unintern "temp-sym-to-unintern-99")
  (eq (intern-soft "temp-sym-to-unintern-99") nil))

; obarrayp â€” type checks
(not (obarrayp nil))
(not (obarrayp 42))

; intern in custom obarray
(let ((ob (obarray-make)))
  (intern "foo" ob)
  (symbolp (intern-soft "foo" ob)))

; mapatoms
(let ((count 0))
  (let ((ob (obarray-make)))
    (intern "a" ob)
    (intern "b" ob)
    (mapatoms (lambda (s) (setq count (1+ count))) ob)
    (>= count 2)))
