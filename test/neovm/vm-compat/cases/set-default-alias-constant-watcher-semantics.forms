(progn
  (defvaralias 'vm-set-default-alias 'vm-set-default-base)
  (set-default 'vm-set-default-alias 5)
  (list (default-value 'vm-set-default-base)
        (default-value 'vm-set-default-alias)))
(progn
  (defvaralias 'vm-default-alias-unbound 'vm-default-base-unbound)
  (condition-case err
      (default-value 'vm-default-alias-unbound)
    (error err)))
(list
 (condition-case err (set-default nil 1) (error err))
 (condition-case err (set-default t 1) (error err))
 (condition-case err (set-default :foo 1) (error err)))
(progn
  (setq vm-set-default-watch-events nil)
  (fset 'vm-set-default-watch-rec
        (lambda (symbol newval operation where)
          (setq vm-set-default-watch-events
                (cons (list symbol newval operation where)
                      vm-set-default-watch-events))))
  (add-variable-watcher 'vm-set-default-watch-target 'vm-set-default-watch-rec)
  (set-default 'vm-set-default-watch-target 42)
  (nreverse vm-set-default-watch-events))
