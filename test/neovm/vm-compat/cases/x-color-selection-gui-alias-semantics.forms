(mapcar (lambda (sym)
          (list sym
                (fboundp sym)
                (symbol-function sym)
                (if (subrp (symbol-function sym))
                    (subr-arity (symbol-function sym))
                  :alias)
                (commandp sym)))
        '(gui-get-selection
          gui-get-primary-selection
          gui-select-text
          gui-selection-value
          gui-set-selection
          x-color-defined-p
          x-color-values
          x-defined-colors
          x-get-selection
          x-get-selection-value
          x-select-text
          x-selection-value
          x-set-selection))

(list
   (list 'color-core
         (condition-case err (x-color-defined-p "red") (error err))
         (condition-case err (x-color-defined-p 1) (error err))
         (condition-case err (x-color-defined-p) (error (car err)))
         (condition-case err (x-color-values "red") (error err))
         (condition-case err (x-color-values 1) (error err))
         (condition-case err (x-color-values) (error (car err)))
         (condition-case err (x-defined-colors) (error err))
         (condition-case err (x-defined-colors nil nil) (error (car err))))
   (list 'gui-selection-core
         (condition-case err (gui-get-selection) (error err))
         (condition-case err (gui-get-selection nil) (error err))
         (condition-case err (gui-get-selection nil nil) (error err))
         (condition-case err (gui-get-selection nil nil nil) (error (car err)))
         (condition-case err (gui-get-primary-selection) (error err))
         (condition-case err (gui-get-primary-selection nil) (error (car err)))
         (condition-case err (gui-select-text "a") (error err))
         (condition-case err (gui-select-text 1) (error err))
         (condition-case err (gui-select-text "a" nil) (error (car err)))
         (condition-case err (gui-selection-value) (error err))
         (condition-case err (gui-selection-value nil) (error (car err)))
         (condition-case err (gui-set-selection nil nil) (error err))
         (condition-case err (gui-set-selection nil nil nil) (error (car err))))
   (list 'x-alias-selection-core
         (condition-case err (x-get-selection) (error err))
         (condition-case err (x-get-selection nil) (error err))
         (condition-case err (x-get-selection nil nil nil nil nil nil) (error (car err)))
         (condition-case err (x-get-selection-value) (error err))
         (condition-case err (x-get-selection-value nil) (error (car err)))
         (condition-case err (x-get-selection-value nil nil nil nil nil nil) (error (car err)))
         (condition-case err (x-select-text "a") (error err))
         (condition-case err (x-select-text 1) (error err))
         (condition-case err (x-select-text "a" nil) (error (car err)))
         (condition-case err (x-select-text "a" nil nil) (error (car err)))
         (condition-case err (x-selection-value) (error err))
         (condition-case err (x-selection-value nil) (error (car err)))
         (condition-case err (x-selection-value nil nil nil nil nil nil) (error (car err)))
         (condition-case err (x-set-selection nil nil) (error err))
         (condition-case err (x-set-selection nil nil nil) (error (car err)))
         (condition-case err (x-set-selection nil nil nil nil nil) (error (car err)))))
