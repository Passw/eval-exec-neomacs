;; Newly implemented x-* coordinate/frame/query compatibility surface.
(mapcar (lambda (sym)
          (list sym
                (fboundp sym)
                (subrp (symbol-function sym))
                (subr-arity (symbol-function sym))))
        '(x-send-client-message
          x-synchronize
          x-translate-coordinates
          x-mouse-absolute-pixel-position
          x-set-mouse-absolute-pixel-position
          x-register-dnd-atom
          x-export-frames
          x-focus-frame
          x-frame-edges
          x-frame-geometry
          x-frame-list-z-order))

(let ((term (car (terminal-list))))
  (list (list 'x-send-client-message
              (condition-case err (x-send-client-message nil nil nil nil nil nil) (error err))
              (condition-case err (x-send-client-message (selected-frame) nil nil nil nil nil) (error err))
              (condition-case err (x-send-client-message 1 nil nil nil nil nil) (error err))
              (condition-case err (x-send-client-message "x" nil nil nil nil nil) (error err))
              (condition-case err (x-send-client-message term nil nil nil nil nil) (error err))
              (condition-case err (x-send-client-message nil nil nil nil nil) (error (car err)))
              (condition-case err (x-send-client-message nil nil nil nil nil nil nil) (error (car err))))
        (list 'x-synchronize
              (condition-case err (x-synchronize nil) (error err))
              (condition-case err (x-synchronize nil nil) (error err))
              (condition-case err (x-synchronize (selected-frame)) (error err))
              (condition-case err (x-synchronize 1 nil) (error err))
              (condition-case err (x-synchronize "x" nil) (error err))
              (condition-case err (x-synchronize term nil) (error err))
              (condition-case err (x-synchronize) (error (car err)))
              (condition-case err (x-synchronize nil nil nil) (error (car err))))
        (list 'x-translate-coordinates
              (condition-case err (x-translate-coordinates nil) (error err))
              (condition-case err (x-translate-coordinates (selected-frame)) (error err))
              (condition-case err (x-translate-coordinates 1) (error err))
              (condition-case err (x-translate-coordinates "x") (error err))
              (condition-case err (x-translate-coordinates term) (error err))
              (condition-case err (x-translate-coordinates nil nil nil nil nil nil) (error err))
              (condition-case err (x-translate-coordinates) (error (car err)))
              (condition-case err (x-translate-coordinates nil nil nil nil nil nil nil) (error (car err))))
        (list 'x-frame-list-z-order
              (condition-case err (x-frame-list-z-order) (error err))
              (condition-case err (x-frame-list-z-order nil) (error err))
              (condition-case err (x-frame-list-z-order (selected-frame)) (error err))
              (condition-case err (x-frame-list-z-order 1) (error err))
              (condition-case err (x-frame-list-z-order "x") (error err))
              (condition-case err (x-frame-list-z-order term) (error err))
              (condition-case err (x-frame-list-z-order nil nil) (error (car err))))))

(let ((term (car (terminal-list))))
  (list (list 'x-export-frames
              (condition-case err (x-export-frames) (error err))
              (condition-case err (x-export-frames nil) (error err))
              (condition-case err (x-export-frames (selected-frame)) (error err))
              (condition-case err (x-export-frames 1) (error err))
              (condition-case err (x-export-frames "x") (error err))
              (condition-case err (x-export-frames term) (error err))
              (condition-case err (x-export-frames nil nil) (error err))
              (condition-case err (x-export-frames nil nil nil) (error (car err))))
        (list 'x-focus-frame
              (condition-case err (x-focus-frame nil) (error err))
              (condition-case err (x-focus-frame (selected-frame)) (error err))
              (condition-case err (x-focus-frame 1) (error err))
              (condition-case err (x-focus-frame "x") (error err))
              (condition-case err (x-focus-frame term) (error err))
              (condition-case err (x-focus-frame nil nil) (error err))
              (condition-case err (x-focus-frame) (error (car err)))
              (condition-case err (x-focus-frame nil nil nil) (error (car err))))
        (list 'x-register-dnd-atom
              (condition-case err (x-register-dnd-atom nil) (error err))
              (condition-case err (x-register-dnd-atom (selected-frame)) (error err))
              (condition-case err (x-register-dnd-atom 1) (error err))
              (condition-case err (x-register-dnd-atom term) (error err))
              (condition-case err (x-register-dnd-atom nil nil) (error err))
              (condition-case err (x-register-dnd-atom) (error (car err)))
              (condition-case err (x-register-dnd-atom nil nil nil) (error (car err))))))

(list (list 'x-frame-edges
            (x-frame-edges)
            (x-frame-edges nil)
            (x-frame-edges (selected-frame))
            (condition-case err (x-frame-edges 1) (error err))
            (condition-case err (x-frame-edges "x") (error err))
            (x-frame-edges nil nil)
            (condition-case err (x-frame-edges nil nil nil) (error (car err))))
      (list 'x-frame-geometry
            (x-frame-geometry)
            (x-frame-geometry nil)
            (x-frame-geometry (selected-frame))
            (condition-case err (x-frame-geometry 1) (error err))
            (condition-case err (x-frame-geometry "x") (error err))
            (condition-case err (x-frame-geometry nil nil) (error (car err)))))

(list (list 'x-mouse-absolute-pixel-position
            (x-mouse-absolute-pixel-position)
            (condition-case err (x-mouse-absolute-pixel-position nil) (error (car err))))
      (list 'x-set-mouse-absolute-pixel-position
            (x-set-mouse-absolute-pixel-position nil nil)
            (x-set-mouse-absolute-pixel-position 1 2)
            (condition-case err (x-set-mouse-absolute-pixel-position nil) (error (car err)))
            (condition-case err (x-set-mouse-absolute-pixel-position nil nil nil) (error (car err)))))
