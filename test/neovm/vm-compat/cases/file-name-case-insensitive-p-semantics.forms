; file-name-case-insensitive-p argument validation and path semantics.

(condition-case err
    (file-name-case-insensitive-p 1)
  (error err))

(file-name-case-insensitive-p "/")

(let ((f (make-temp-file "neovm-fncip-file-")))
  (prog1
      (file-name-case-insensitive-p f)
    (delete-file f)))

(let ((d (make-temp-file "neovm-fncip-dir-" t)))
  (prog1
      (file-name-case-insensitive-p d)
    (delete-directory d)))

(let ((d (make-temp-file "neovm-fncip-eval-" t)))
  (let ((f (expand-file-name "alpha.txt" d)))
    (with-temp-buffer
      (insert "x")
      (write-region nil nil f))
    (prog1
        (let ((default-directory (file-name-as-directory d)))
          (file-name-case-insensitive-p "alpha.txt"))
      (delete-file f)
      (delete-directory d))))

(condition-case err
    (file-name-case-insensitive-p "/tmp/neovm-fncip-noop" nil)
  (error err))
