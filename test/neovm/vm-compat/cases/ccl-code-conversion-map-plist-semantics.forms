; register-code-conversion-map should publish plist state without binding the symbol.
(register-code-conversion-map 'neovm-ccl-map-plist [1 2 3])
(boundp 'neovm-ccl-map-plist)
(condition-case err
    (symbol-value 'neovm-ccl-map-plist)
  (error (car err)))
(get 'neovm-ccl-map-plist 'code-conversion-map)
(get 'neovm-ccl-map-plist 'code-conversion-map-id)
(let ((plist (symbol-plist 'neovm-ccl-map-plist)))
  (list (null plist)
        (equal (plist-get plist 'code-conversion-map) [1 2 3])
        (equal (plist-get plist 'code-conversion-map-id) 0)))
