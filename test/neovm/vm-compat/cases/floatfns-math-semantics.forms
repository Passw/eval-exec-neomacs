; floatfns.c â€” math functions
; sin
(= (sin 0) 0.0)
(> (sin 1.0) 0.8)
(condition-case err (sin "x") (error (car err)))

; cos
(= (cos 0) 1.0)
(< (cos 1.0) 1.0)
(condition-case err (cos nil) (error (car err)))

; tan
(= (tan 0) 0.0)
(> (tan 0.5) 0.0)

; asin
(= (asin 0) 0.0)
(> (asin 1.0) 1.5)
(condition-case err (asin 2.0) (error (car err)))

; acos
(< (acos 1.0) 0.01)
(> (acos 0.0) 1.5)
(condition-case err (acos 2.0) (error (car err)))

; atan
(= (atan 0) 0.0)
(> (atan 1.0) 0.7)
(> (atan 1 0) 1.5)
(< (atan -1 0) -1.5)

; exp
(= (exp 0) 1.0)
(> (exp 1) 2.7)
(< (exp 1) 2.8)

; log
(= (log 1) 0.0)
(> (log 2.718281828) 0.99)
(< (log 2.718281828) 1.01)
(> (log 8 2) 2.99)
(< (log 8 2) 3.01)
(condition-case err (log "x") (error (car err)))

; sqrt
(= (sqrt 4.0) 2.0)
(= (sqrt 0.0) 0.0)
(> (sqrt 2.0) 1.41)
(condition-case err (sqrt -1.0) (error (car err)))
(condition-case err (sqrt "x") (error (car err)))

; expt
(= (expt 2 10) 1024)
(= (expt 2.0 0.5) (sqrt 2.0))
(= (expt 3 0) 1)
(= (expt 0 0) 1)

; abs
(= (abs 5) 5)
(= (abs -5) 5)
(= (abs 0) 0)
(= (abs -3.5) 3.5)

; float
(floatp (float 1))
(= (float 1) 1.0)
(= (float 1.5) 1.5)
(condition-case err (float "x") (error (car err)))

; floor
(= (floor 2.7) 2)
(= (floor -2.7) -3)
(= (floor 2.0) 2)
(= (floor 5 2) 2)
(= (floor 7 3) 2)
(= (floor -7 3) -3)
(condition-case err (floor 1 0) (error (car err)))

; ceiling
(= (ceiling 2.1) 3)
(= (ceiling -2.1) -2)
(= (ceiling 2.0) 2)
(= (ceiling 7 3) 3)
(= (ceiling -7 3) -2)

; round
(= (round 2.5) 2)
(= (round 3.5) 4)
(= (round 2.4) 2)
(= (round -2.5) -2)
(= (round 7 3) 2)

; truncate
(= (truncate 2.7) 2)
(= (truncate -2.7) -2)
(= (truncate 7 3) 2)
(= (truncate -7 3) -2)

; ffloor
(= (ffloor 2.7) 2.0)
(= (ffloor -2.7) -3.0)

; fceiling
(= (fceiling 2.1) 3.0)
(= (fceiling -2.1) -2.0)

; fround
(= (fround 2.5) 2.0)
(= (fround 3.5) 4.0)

; ftruncate
(= (ftruncate 2.7) 2.0)
(= (ftruncate -2.7) -2.0)

; logb
(= (logb 1.0) 0)
(= (logb 8.0) 3)
(= (logb 0.5) -1)

; isnan
(eq (isnan 0.0) nil)
(eq (isnan 1.0) nil)
(condition-case err (isnan 1) (error (car err)))

; frexp
(let ((r (frexp 1.0))) (and (consp r) (= (car r) 0.5) (= (cdr r) 1)))
(let ((r (frexp 8.0))) (and (consp r) (= (car r) 0.5) (= (cdr r) 4)))

; ldexp
(= (ldexp 0.5 1) 1.0)
(= (ldexp 0.5 4) 8.0)

; copysign
(= (copysign 1.0 -1.0) -1.0)
(= (copysign -1.0 1.0) 1.0)
(= (copysign 2.5 -0.0) -2.5)
