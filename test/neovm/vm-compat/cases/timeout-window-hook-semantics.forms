(mapcar (lambda (sym)
          (list sym
                (fboundp sym)
                (subrp (symbol-function sym))
                (subr-arity (symbol-function sym))
                (commandp sym)))
        '(add-timeout
          run-hook-query-error-with-timeout
          run-window-configuration-change-hook
          run-window-scroll-functions))

(list
 (list 'add-timeout
       (condition-case err (add-timeout) (error (car err)))
       (condition-case err (add-timeout 0 1) (error (car err)))
       (condition-case err (add-timeout "bad" 1 #'ignore) (error err))
       (condition-case err (add-timeout 0 nil #'ignore) (error err))
       (let ((tm (condition-case err (add-timeout "0" 1 #'ignore) (error err))))
         (list (timerp tm)
               (condition-case err (cancel-timer tm) (error err))
               (timerp tm)))
       (let ((tm (condition-case err (add-timeout 0 t #'ignore 42) (error err))))
         (list (timerp tm)
               (condition-case err (cancel-timer tm) (error err))
               (timerp tm))))
 (list 'run-hook-query-error-with-timeout
       (condition-case err (run-hook-query-error-with-timeout) (error (car err)))
       (condition-case err (run-hook-query-error-with-timeout 1) (error err))
       (progn
         (setq rhqt-log nil)
         (defun rhqt-ok (&rest args) (setq rhqt-log (cons (length args) rhqt-log)) nil)
         (setq rhqt-hook '(rhqt-ok))
         (list (condition-case err
                   (run-hook-query-error-with-timeout 'rhqt-hook)
                 (error err))
               rhqt-log))
       (progn
         (defun rhqt-err () (error "boom"))
         (setq rhqt-hook '(rhqt-err))
         (condition-case err
             (run-hook-query-error-with-timeout 'rhqt-hook)
           (error err)))
       (progn
         (setq rhqt-hook 'rhqt-ok)
         (list (condition-case err
                   (run-hook-query-error-with-timeout 'rhqt-hook)
                 (error err))
               rhqt-log))
       (progn
         (setq rhqt-hook t)
         (condition-case err
             (run-hook-query-error-with-timeout 'rhqt-hook)
           (error err))))
 (list 'run-window-configuration-change-hook
       (condition-case err (run-window-configuration-change-hook) (error err))
       (condition-case err (run-window-configuration-change-hook (selected-frame)) (error err))
       (let ((res (condition-case err
                      (run-window-configuration-change-hook (selected-window))
                    (error err))))
         (if (and (consp res) (eq (car res) 'wrong-type-argument))
             (list (car res) (cadr res) (windowp (caddr res)))
           res))
       (condition-case err (run-window-configuration-change-hook 1) (error err))
       (condition-case err (run-window-configuration-change-hook nil nil) (error (car err)))
       (progn
         (setq rwc-log nil)
         (defun rwc-rec (&rest args) (setq rwc-log (cons (length args) rwc-log)) nil)
         (setq window-configuration-change-hook '(rwc-rec))
         (list (condition-case err
                   (run-window-configuration-change-hook)
                 (error err))
               rwc-log
               (condition-case err
                   (run-window-configuration-change-hook (selected-frame))
                 (error err))
               rwc-log)))
 (list 'run-window-scroll-functions
       (condition-case err (run-window-scroll-functions) (error err))
       (condition-case err (run-window-scroll-functions (selected-window)) (error err))
       (let ((res (condition-case err
                      (run-window-scroll-functions (selected-frame))
                    (error err))))
         (if (and (consp res) (eq (car res) 'wrong-type-argument))
             (list (car res) (cadr res) (framep (caddr res)))
           res))
       (condition-case err (run-window-scroll-functions 1) (error err))
       (condition-case err (run-window-scroll-functions nil nil) (error (car err)))
       (progn
         (setq rws-log nil)
         (defun rws-rec (&rest args)
           (setq rws-log
                 (cons (list (if (car args) (windowp (car args)) nil)
                             (cadr args)
                             (length args))
                       rws-log))
           nil)
         (setq window-scroll-functions '(rws-rec))
         (list (condition-case err
                   (run-window-scroll-functions)
                 (error err))
               rws-log
               (condition-case err
                   (run-window-scroll-functions (selected-window))
                 (error err))
               rws-log))))
