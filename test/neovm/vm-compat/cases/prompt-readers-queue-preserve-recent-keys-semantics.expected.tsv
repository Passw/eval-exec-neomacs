1	(let ((probes '((read-file-name "") (read-directory-name "") (read-buffer "") (read-command "") (read-variable "") (read-from-minibuffer "") (read-string "") (read-number "") (completing-read "" (("a") ("b"))))) (queues '((97 foo) (foo 97) ((mouse-1) 97) ([97] 98) (foo . 97) [97 98]))) (mapcar (lambda (entry) (let ((fn (car entry)) (args (cdr entry))) (mapcar (lambda (queue) (let ((start (length (recent-keys)))) (setq unread-command-events queue) (condition-case err (progn (apply fn args) (list fn queue 'ok unread-command-events (append (nthcdr start (append (recent-keys) nil)) nil))) (error (list fn queue (car err) unread-command-events (append (nthcdr start (append (recent-keys) nil)) nil)))))) queues))) probes))	OK (((read-file-name (97 foo) end-of-file (97 foo) nil) (read-file-name (foo 97) end-of-file (foo 97) nil) (read-file-name ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-file-name ([97] 98) end-of-file ([97] 98) nil) (read-file-name (foo . 97) end-of-file (foo . 97) nil) (read-file-name [97 98] end-of-file [97 98] nil)) ((read-directory-name (97 foo) end-of-file (97 foo) nil) (read-directory-name (foo 97) end-of-file (foo 97) nil) (read-directory-name ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-directory-name ([97] 98) end-of-file ([97] 98) nil) (read-directory-name (foo . 97) end-of-file (foo . 97) nil) (read-directory-name [97 98] end-of-file [97 98] nil)) ((read-buffer (97 foo) end-of-file (97 foo) nil) (read-buffer (foo 97) end-of-file (foo 97) nil) (read-buffer ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-buffer ([97] 98) end-of-file ([97] 98) nil) (read-buffer (foo . 97) end-of-file (foo . 97) nil) (read-buffer [97 98] end-of-file [97 98] nil)) ((read-command (97 foo) end-of-file (97 foo) nil) (read-command (foo 97) end-of-file (foo 97) nil) (read-command ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-command ([97] 98) end-of-file ([97] 98) nil) (read-command (foo . 97) end-of-file (foo . 97) nil) (read-command [97 98] end-of-file [97 98] nil)) ((read-variable (97 foo) end-of-file (97 foo) nil) (read-variable (foo 97) end-of-file (foo 97) nil) (read-variable ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-variable ([97] 98) end-of-file ([97] 98) nil) (read-variable (foo . 97) end-of-file (foo . 97) nil) (read-variable [97 98] end-of-file [97 98] nil)) ((read-from-minibuffer (97 foo) end-of-file (97 foo) nil) (read-from-minibuffer (foo 97) end-of-file (foo 97) nil) (read-from-minibuffer ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-from-minibuffer ([97] 98) end-of-file ([97] 98) nil) (read-from-minibuffer (foo . 97) end-of-file (foo . 97) nil) (read-from-minibuffer [97 98] end-of-file [97 98] nil)) ((read-string (97 foo) end-of-file (97 foo) nil) (read-string (foo 97) end-of-file (foo 97) nil) (read-string ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-string ([97] 98) end-of-file ([97] 98) nil) (read-string (foo . 97) end-of-file (foo . 97) nil) (read-string [97 98] end-of-file [97 98] nil)) ((read-number (97 foo) end-of-file (97 foo) nil) (read-number (foo 97) end-of-file (foo 97) nil) (read-number ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (read-number ([97] 98) end-of-file ([97] 98) nil) (read-number (foo . 97) end-of-file (foo . 97) nil) (read-number [97 98] end-of-file [97 98] nil)) ((completing-read (97 foo) end-of-file (97 foo) nil) (completing-read (foo 97) end-of-file (foo 97) nil) (completing-read ((mouse-1) 97) end-of-file ((mouse-1) 97) nil) (completing-read ([97] 98) end-of-file ([97] 98) nil) (completing-read (foo . 97) end-of-file (foo . 97) nil) (completing-read [97 98] end-of-file [97 98] nil)))
