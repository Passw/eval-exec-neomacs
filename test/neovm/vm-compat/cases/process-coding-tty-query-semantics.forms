(mapcar (lambda (s)
          (list s
                (fboundp s)
                (subrp (symbol-function s))
                (subr-arity (symbol-function s))
                (commandp s)))
        '(process-coding-system
          process-datagram-address
          process-inherit-coding-system-flag
          process-kill-buffer-query-function
          process-tty-name))

(let ((p (start-process "neovm-proc-coding-tty-query" nil "cat")))
  (unwind-protect
      (list
       (equal (process-coding-system p) '(utf-8-unix . utf-8-unix))
       (process-datagram-address p)
       (process-inherit-coding-system-flag p)
       (process-kill-buffer-query-function)
       (stringp (process-tty-name p))
       (stringp (process-tty-name p nil))
       (stringp (process-tty-name p 'stdin))
       (stringp (process-tty-name p 'stdout))
       (stringp (process-tty-name p 'stderr))
       (condition-case err (process-tty-name p 0) (error err))
       (condition-case err (process-tty-name p 1) (error err))
       (condition-case err (process-tty-name p 2) (error err))
       (condition-case err (process-tty-name p t) (error err))
       (delete-process p)
       (process-live-p p))
    (ignore-errors (delete-process p))))

(list
 (condition-case err (process-coding-system 'x) (error err))
 (condition-case err (process-datagram-address 'x) (error err))
 (condition-case err (process-inherit-coding-system-flag 'x) (error err))
 (condition-case err (process-tty-name 'x) (error err))
 (condition-case err (process-tty-name nil) (error err))
 (condition-case err (process-tty-name 'x t) (error err))
 (condition-case err (process-kill-buffer-query-function nil) (error err))
 (condition-case err (process-coding-system) (error (car err)))
 (condition-case err (process-datagram-address) (error (car err)))
 (condition-case err (process-inherit-coding-system-flag) (error (car err)))
 (condition-case err (process-kill-buffer-query-function) (error err))
 (condition-case err (process-tty-name) (error (car err)))
 (condition-case err (process-tty-name nil nil nil) (error (car err))))
