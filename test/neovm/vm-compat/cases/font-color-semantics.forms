(fboundp 'color-defined-p)
(color-defined-p "red")
(color-defined-p "NO-SUCH-COLOR")
(color-defined-p nil)
(condition-case err
    (color-defined-p "red" 1)
  (error (car err)))
(condition-case err
    (color-defined-p "red" (selected-frame))
  (error (car err)))
(condition-case err
    (color-defined-p "red" (selected-window))
  (error (car err)))
(condition-case err
    (color-defined-p "red" nil nil)
  (error (car err)))

(fboundp 'color-values)
(color-values "red")
(color-values "NO-SUCH-COLOR")
(color-values nil)
(color-values 1)
(color-values "#abc")
(color-values "#aabbcc")
(color-values "#aaaabbbbcccc")
(color-values "#ggg")
(color-values "DarkGray")
(color-values "light gray")
(color-values "orange red")
(condition-case err
    (color-values "red" 1)
  (error (car err)))
(condition-case err
    (color-values "red" (selected-frame))
  (error (car err)))
(condition-case err
    (color-values "red" (selected-window))
  (error (car err)))
(condition-case err
    (color-values "red" nil nil)
  (error (car err)))

(fboundp 'defined-colors)
(let ((cs (defined-colors)))
  (and (listp cs)
       (not (null (member "red" cs)))))
(let ((cs (defined-colors nil)))
  (and (listp cs)
       (not (null (member "red" cs)))))
(length (defined-colors))
(condition-case err
    (defined-colors 1)
  (error (car err)))
(condition-case err
    (defined-colors (selected-frame))
  (error (car err)))
(condition-case err
    (defined-colors (selected-window))
  (error (car err)))
(condition-case err
    (defined-colors nil nil)
  (error (car err)))

(color-defined-p "#abc")
(color-defined-p "#ggg")
(color-defined-p "orange red")
