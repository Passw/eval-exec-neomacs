1	(pcase '(1 2) ((pred listp) 'yes) (_ 'no))	OK yes
2	(pcase '(a . b) ('(a . b) 'ok) (_ 'bad))	OK ok
3	(pcase 3 ((pred numberp) 'num) (_ 'other))	OK num
4	(pcase-let (((pred numberp) 42)) (+ 1 2))	OK 3
5	(pcase-let (((and x (pred numberp)) 9)) x)	OK 9
6	(pcase-let* (((pred numberp) 5) ((pred numberp) 6)) (+ 7 8))	OK 15
7	(condition-case err (pcase [1 2 3] ([a b c] (+ a b c))) (error err))	OK (error "Unknown pattern ‘[a b c]’")
8	(condition-case err (pcase-let (([a b] [1 2])) (list a b)) (error err))	OK (error "Unknown pattern ‘[a b]’")
9	(condition-case err (pcase-let* (([a b] [1 2])) (list a b)) (error err))	OK (error "Unknown pattern ‘[a b]’")
10	(condition-case err (pcase [1 2 3] (`[,a ,b ,c] (+ a b c))) (error err))	OK 6
11	(condition-case err (pcase 1 ((quote) 'x) (_ 'y)) (error err))	OK y
12	(condition-case err (pcase 1 ((quote 1 2 3) 'x) (_ 'y)) (error err))	OK x
13	(condition-case err (pcase 1 ((pred) 'x) (_ 'y)) (error err))	OK (void-function nil)
14	(condition-case err (pcase 1 ((pred integerp 2) 'x) (_ 'y)) (error err))	OK x
15	(condition-case err (pcase 1 ((guard) 'x) (_ 'y)) (error err))	OK y
16	(condition-case err (pcase 1 ((guard t 2) 'x) (_ 'y)) (error err))	OK x
17	(condition-case err (pcase 1 ((app) 'x) (_ 'y)) (error err))	OK (error "Unknown pattern ‘nil’")
18	(condition-case err (pcase 1 ((app car) 'x) (_ 'y)) (error err))	OK (error "Unknown pattern ‘nil’")
19	(condition-case err (pcase 1 ((app car x y) 'x) (_ 'y)) (error err))	OK (wrong-type-argument listp 1)
20	(condition-case err (pcase 1 ((let) 'x) (_ 'y)) (error err))	OK (wrong-number-of-arguments #<subr let--pcase-macroexpander> 0)
21	(condition-case err (pcase 1 ((let x) 'x) (_ 'y)) (error err))	OK (wrong-number-of-arguments #<subr let--pcase-macroexpander> 1)
22	(condition-case err (pcase 1 ((let x 2 3) x) (_ 'y)) (error err))	OK (wrong-number-of-arguments #<subr let--pcase-macroexpander> 3)
23	(condition-case err (pcase 1 ((foo bar) 'x) (_ 'y)) (error err))	OK (error "Unknown foo pattern: (foo bar)")
24	(condition-case err (pcase-let (((foo bar) 1)) 'ok) (error err))	OK (error "Unknown foo pattern: (foo bar)")
25	(condition-case err (pcase-let* (((foo bar) 1)) 'ok) (error err))	OK (error "Unknown foo pattern: (foo bar)")
26	(condition-case err (pcase 1 (((1 2) 3) 'x) (_ 'y)) (error err))	OK (wrong-type-argument symbolp (1 2))
27	(condition-case err (pcase-let ((((1 2) 3) 1)) 'ok) (error err))	OK (wrong-type-argument symbolp (1 2))
28	(condition-case err (pcase-let* ((((1 2) 3) 1)) 'ok) (error err))	OK (wrong-type-argument symbolp (1 2))
29	(condition-case err (pcase '(1 . 2) ((a . b) (list a b)) (_ 'no)) (error err))	OK (error "Unknown a pattern: (a . b)")
30	(condition-case err (pcase-let (((a . b) '(1 . 2))) (list a b)) (error err))	OK (error "Unknown a pattern: (a . b)")
31	(condition-case err (pcase-let* (((a . b) '(1 . 2))) (list a b)) (error err))	OK (error "Unknown a pattern: (a . b)")
32	(condition-case err (pcase 1 ((or) 'x) (_ 'y)) (error err))	OK (error "Please avoid it")
33	(condition-case err (pcase 1 ((or 1) 'x) (_ 'y)) (error err))	OK (error "Please avoid it")
34	(condition-case err (pcase '(1 . 2) (((1 2) . 3) 'x) (_ 'y)) (error err))	OK (wrong-type-argument symbolp (1 2))
35	(condition-case err (pcase-let ((((1 2) . 3) '(1 . 2))) 'ok) (error err))	OK (wrong-type-argument symbolp (1 2))
36	(condition-case err (pcase-let* ((((1 2) . 3) '(1 . 2))) 'ok) (error err))	OK (wrong-type-argument symbolp (1 2))
37	(condition-case err (pcase 1 ((and) 'x) (_ 'y)) (error err))	OK x
38	(condition-case err (pcase 1 ((and 1) 'x) (_ 'y)) (error err))	OK x
39	(condition-case err (pcase 1 ((and 1 2) 'x) (_ 'y)) (error err))	OK y
40	(condition-case err (pcase 1 ((pred integerp 2 3) 'x) (_ 'y)) (error err))	OK x
41	(condition-case err (pcase 1 ((or 1 2) 'x) (_ 'y)) (error err))	OK x
42	(condition-case err (pcase 3 ((or 1 2) 'x) (_ 'y)) (error err))	OK y
43	(condition-case err (pcase-let (((or) 1)) 'ok) (error err))	OK (error "Please avoid it")
44	(condition-case err (pcase-let (((or 1) 1)) 'ok) (error err))	OK (error "Please avoid it")
45	(condition-case err (pcase-let (((or 1 2) 1)) 'ok) (error err))	OK ok
46	(condition-case err (pcase-let* (((or) 1)) 'ok) (error err))	OK (error "Please avoid it")
47	(condition-case err (pcase-let* (((or 1) 1)) 'ok) (error err))	OK (error "Please avoid it")
48	(condition-case err (pcase-let* (((or 1 2) 1)) 'ok) (error err))	OK ok
49	(condition-case err (pcase-let (((and) 1)) 'ok) (error err))	OK ok
50	(condition-case err (pcase-let* (((and) 1)) 'ok) (error err))	OK ok
51	(condition-case err (let ((acc nil)) (pcase-dolist ((or) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (error "Please avoid it")
52	(condition-case err (let ((acc nil)) (pcase-dolist ((or 1) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (error "Please avoid it")
53	(condition-case err (let ((acc nil)) (pcase-dolist ((or 1 2) '(1 2 3)) (push 1 acc)) (nreverse acc)) (error err))	OK (1 1 1)
54	(condition-case err (let ((acc nil)) (pcase-dolist ((and) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (1 1)
55	(condition-case err (pcase-let (((guard) 1)) 'ok) (error err))	OK ok
56	(condition-case err (pcase-let (((guard t 2) 1)) 'ok) (error err))	OK ok
57	(condition-case err (pcase-let* (((guard) 1)) 'ok) (error err))	OK ok
58	(condition-case err (pcase-let* (((guard t 2) 1)) 'ok) (error err))	OK ok
59	(condition-case err (let ((acc nil)) (pcase-dolist ((guard) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (1 1)
60	(condition-case err (let ((acc nil)) (pcase-dolist ((guard t 2) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (1 1)
61	(condition-case err (pcase-let (((pred) 1)) 'ok) (error err))	OK (void-function nil)
62	(condition-case err (pcase-let (((pred integerp 2 3) 1)) 'ok) (error err))	OK ok
63	(condition-case err (pcase-let* (((pred) 1)) 'ok) (error err))	OK (void-function nil)
64	(condition-case err (pcase-let* (((pred integerp 2 3) 1)) 'ok) (error err))	OK ok
65	(condition-case err (let ((acc nil)) (pcase-dolist ((pred) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (void-function nil)
66	(condition-case err (let ((acc nil)) (pcase-dolist ((pred integerp 2 3) '(1 2)) (push 1 acc)) (nreverse acc)) (error err))	OK (1 1)
67	(condition-case err (pcase-let ((x 1) y) y) (error err))	OK (wrong-type-argument listp y)
68	(condition-case err (pcase-let (((app car x y) '(1 2)) x)) (error err))	OK (wrong-type-argument listp x)
69	(condition-case err (pcase-let* (x) x) (error err))	OK (wrong-type-argument listp x)
70	(condition-case err (pcase-let* ((x 1) y) y) (error err))	OK (wrong-type-argument listp y)
