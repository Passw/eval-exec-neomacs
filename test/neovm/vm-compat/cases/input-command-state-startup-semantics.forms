(mapcar
 (lambda (sym) (list sym (boundp sym)))
 '(last-event-frame
   last-event-device
   last-input-event
   last-nonmenu-event
   last-command-event
   real-last-command
   last-repeatable-command
   this-original-command
   prefix-arg
   defining-kbd-macro
   executing-kbd-macro
   executing-kbd-macro-index
   executing-kbd-macro-prefix-arg
   last-prefix-arg
   last-kbd-macro
   last-code-conversion-error
   last-coding-system-used
   this-command
   real-this-command
   this-command-keys-shift-translated
   current-prefix-arg
   overriding-local-map
   overriding-terminal-local-map
   deactivate-mark
   mark-active
   transient-mark-mode
   unread-input-method-events
   unread-post-input-method-events
   input-method-alist
   input-method-activate-hook
   input-method-after-insert-chunk-hook
   input-method-deactivate-hook
   input-method-exit-on-first-char
   input-method-exit-on-invalid-key
   input-method-function
   input-method-highlight-flag
   input-method-history
   input-method-previous-message
   input-method-use-echo-area
   input-method-verbose-flag
   unread-command-events))

; Oracle startup seeds input-method-alist as a list object.
; Keep only list-ness (not full content) locked for now.
(list (boundp 'input-method-alist)
      (listp input-method-alist))

(list
 last-event-frame
 last-event-device
 last-input-event
 last-nonmenu-event
 last-command-event
 real-last-command
 last-repeatable-command
 this-original-command
 prefix-arg
 defining-kbd-macro
 executing-kbd-macro
 executing-kbd-macro-index
 last-prefix-arg
 last-kbd-macro
 last-code-conversion-error
 last-coding-system-used
 this-command
 real-this-command
 this-command-keys-shift-translated
 current-prefix-arg
 overriding-local-map
 overriding-terminal-local-map
 deactivate-mark
 mark-active
 transient-mark-mode
 unread-input-method-events
 unread-post-input-method-events
 input-method-activate-hook
 input-method-after-insert-chunk-hook
 input-method-deactivate-hook
 input-method-exit-on-first-char
 input-method-exit-on-invalid-key
 input-method-function
 input-method-highlight-flag
 input-method-history
 input-method-previous-message
 input-method-use-echo-area
 input-method-verbose-flag)

(progn
  (setq unread-command-events (list 97))
  (read-key nil)
  (list last-event-frame
        last-event-device
        last-input-event
        last-nonmenu-event
        real-last-command
        last-repeatable-command
        this-original-command
        prefix-arg
        defining-kbd-macro
        executing-kbd-macro
        executing-kbd-macro-index
        this-command
        real-this-command
        this-command-keys-shift-translated
        current-prefix-arg
        overriding-local-map
        overriding-terminal-local-map
        deactivate-mark
        mark-active
        transient-mark-mode
        unread-input-method-events
        unread-post-input-method-events
        input-method-activate-hook
        input-method-after-insert-chunk-hook
        input-method-deactivate-hook
        input-method-exit-on-first-char
        input-method-exit-on-invalid-key
        input-method-function
        input-method-highlight-flag
        input-method-history
        input-method-previous-message
        input-method-use-echo-area
        input-method-verbose-flag))

(progn
  (setq unread-command-events (list '(mouse-1)))
  (read-event nil nil 0)
  (list last-event-frame
        last-event-device
        last-input-event
        last-nonmenu-event
        real-last-command
        last-repeatable-command
        this-original-command
        prefix-arg
        defining-kbd-macro
        executing-kbd-macro
        executing-kbd-macro-index
        this-command
        real-this-command
        this-command-keys-shift-translated
        current-prefix-arg
        overriding-local-map
        overriding-terminal-local-map
        deactivate-mark
        mark-active
        transient-mark-mode
        unread-input-method-events
        unread-post-input-method-events
        input-method-activate-hook
        input-method-after-insert-chunk-hook
        input-method-deactivate-hook
        input-method-exit-on-first-char
        input-method-exit-on-invalid-key
        input-method-function
        input-method-highlight-flag
        input-method-history
        input-method-previous-message
        input-method-use-echo-area
        input-method-verbose-flag))

; Prompt/input readers in batch preserve startup command/input state variables
; while signaling end-of-file on queued unread events.
(let ((probes
       '((read-string "")
         (read-number "")
         (read-from-minibuffer "")
         (completing-read "" (("a") ("b")))
         (read-command "")
         (read-variable "")
         (read-buffer "")
         (read-file-name ""))))
  (mapcar
   (lambda (entry)
     (let ((fn (car entry))
           (args (cdr entry))
           (before (list last-event-frame
                         last-event-device
                         last-input-event
                         last-nonmenu-event
                         real-last-command
                         last-repeatable-command
                         this-original-command
                         prefix-arg
                         defining-kbd-macro
                         executing-kbd-macro
                         executing-kbd-macro-index
                         this-command
                         real-this-command
                         this-command-keys-shift-translated
                         current-prefix-arg
                         overriding-local-map
                         overriding-terminal-local-map
                         deactivate-mark
                         mark-active
                         transient-mark-mode
                         unread-input-method-events
                         unread-post-input-method-events
                         input-method-activate-hook
                         input-method-after-insert-chunk-hook
                         input-method-deactivate-hook
                         input-method-exit-on-first-char
                         input-method-exit-on-invalid-key
                         input-method-function
                         input-method-highlight-flag
                         input-method-history
                         input-method-previous-message
                         input-method-use-echo-area
                         input-method-verbose-flag)))
       (condition-case _
           (progn
             (setq unread-command-events (list 97 'foo))
             (apply fn args))
         (error nil))
       (list fn
             before
             (list last-event-frame
                   last-event-device
                   last-input-event
                   last-nonmenu-event
                   real-last-command
                   last-repeatable-command
                   this-original-command
                   prefix-arg
                   defining-kbd-macro
                   executing-kbd-macro
                   executing-kbd-macro-index
                   this-command
                   real-this-command
                   this-command-keys-shift-translated
                   current-prefix-arg
                   overriding-local-map
                   overriding-terminal-local-map
                   deactivate-mark
                   mark-active
                   transient-mark-mode
                   unread-input-method-events
                   unread-post-input-method-events
                   input-method-activate-hook
                   input-method-after-insert-chunk-hook
                   input-method-deactivate-hook
                   input-method-exit-on-first-char
                   input-method-exit-on-invalid-key
                   input-method-function
                   input-method-highlight-flag
                   input-method-history
                   input-method-previous-message
                   input-method-use-echo-area
                   input-method-verbose-flag)
             unread-command-events)))
   probes))
