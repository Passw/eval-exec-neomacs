(list (window-size-fixed-p)
      (window-size-fixed-p nil t))

(let ((r (window-preserve-size nil nil t)))
  (list (bufferp (car r))
        (nth 1 r)
        (integerp (nth 2 r))
        (window-size-fixed-p)
        (window-size-fixed-p nil t)
        (window-size-fixed-p nil nil t)))

(let ((r (window-preserve-size nil t t)))
  (list (bufferp (car r))
        (integerp (nth 1 r))
        (integerp (nth 2 r))
        (window-size-fixed-p)
        (window-size-fixed-p nil t)
        (window-size-fixed-p nil t t)))

(let ((r (window-preserve-size nil nil nil)))
  (list (bufferp (car r))
        (integerp (nth 1 r))
        (nth 2 r)
        (window-size-fixed-p)
        (window-size-fixed-p nil t)))

(let ((r (window-preserve-size nil t nil)))
  (list (bufferp (car r))
        (nth 1 r)
        (nth 2 r)
        (window-size-fixed-p)
        (window-size-fixed-p nil t)))

(let ((m (minibuffer-window))
      r)
  (setq r (window-preserve-size m nil t))
  (list (window-resizable m 1 nil)
        (window-resizable m 1 t)
        (bufferp (car r))
        (nth 1 r)
        (integerp (nth 2 r))
        (window-size-fixed-p m)
        (window-size-fixed-p m t)))

(let ((w (split-window nil nil 'right)))
  (split-window w nil 'below)
  (window-preserve-size w t t)
  (let ((before (list (window-resizable w 100 t)
                      (window-resizable w -100 t)
                      (window-resizable w 100 nil)
                      (window-resizable w -100 nil)
                      (window-size-fixed-p w)
                      (window-size-fixed-p w t)
                      (window-resizable w 1 t)
                      (window-resizable w 1 t 'preserved))))
    (window-preserve-size w t nil)
    (list before
          (window-size-fixed-p w t)
          (window-resizable w 1 t)
          (window-resizable w 1.5 t)
          (window-resizable w -1.5 t))))

(let ((w (selected-window)))
  (set-window-parameter w 'window-preserved-size 'foo)
  (list (condition-case err (window-size-fixed-p w) (error err))
        (condition-case err (window-preserve-size w nil t) (error err))))

(list (condition-case err (window-size-fixed-p 999999) (error (car err)))
      (condition-case err (window-preserve-size 999999 nil t) (error (car err)))
      (condition-case err (window-resizable 999999 1) (error (car err)))
      (condition-case err (window-resizable nil 'foo) (error (car err))))

(list (condition-case err (window-size-fixed-p nil nil nil nil) (error err))
      (condition-case err (window-preserve-size nil nil nil nil) (error err))
      (condition-case err (window-resizable nil 1 nil nil nil nil) (error err)))
