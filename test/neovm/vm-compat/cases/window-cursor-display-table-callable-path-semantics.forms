(let ((w (selected-window)))
  (equal (funcall #'window-cursor-type w) (window-cursor-type w)))
(let ((w (selected-window)))
  (equal (apply #'window-cursor-type (list w)) (window-cursor-type w)))
(let ((fn (indirect-function 'window-cursor-type))
      (w (selected-window)))
  (equal (funcall fn w) (window-cursor-type w)))
(let ((w (selected-window)))
  (progn
    (funcall #'set-window-cursor-type w 'bar)
    (eq (window-cursor-type w) 'bar)))
(let ((w (selected-window)))
  (progn
    (apply #'set-window-cursor-type (list w 'hbar))
    (eq (window-cursor-type w) 'hbar)))
(let ((setfn (indirect-function 'set-window-cursor-type))
      (w (selected-window)))
  (progn
    (funcall setfn w nil)
    (null (window-cursor-type w))))
(condition-case err (funcall #'window-cursor-type nil nil) (error err))
(condition-case err (apply #'window-cursor-type '(nil nil)) (error err))
(condition-case err (funcall #'set-window-cursor-type nil) (error err))
(condition-case err (apply #'set-window-cursor-type '(nil)) (error err))
(condition-case err (funcall #'set-window-cursor-type nil nil nil) (error err))
(condition-case err (apply #'set-window-cursor-type '(nil nil nil)) (error err))

(let ((w (selected-window)))
  (equal (funcall #'window-display-table w) (window-display-table w)))
(let ((w (selected-window)))
  (equal (apply #'window-display-table (list w)) (window-display-table w)))
(let ((fn (indirect-function 'window-display-table))
      (w (selected-window)))
  (equal (funcall fn w) (window-display-table w)))
(let* ((w (selected-window))
       (dt '(1 2 3)))
  (progn
    (funcall #'set-window-display-table w dt)
    (equal (window-display-table w) dt)))
(let ((w (selected-window)))
  (progn
    (apply #'set-window-display-table (list w 'foo))
    (eq (window-display-table w) 'foo)))
(let ((setfn (indirect-function 'set-window-display-table))
      (w (selected-window)))
  (progn
    (funcall setfn w nil)
    (null (window-display-table w))))
(condition-case err (funcall #'window-display-table nil nil) (error err))
(condition-case err (apply #'window-display-table '(nil nil)) (error err))
(condition-case err (funcall #'set-window-display-table nil nil nil) (error err))
(condition-case err (apply #'set-window-display-table '(nil nil nil)) (error err))
