(mapcar (lambda (s)
          (list s
                (fboundp s)
                (subrp (symbol-function s))
                (subr-arity (symbol-function s))
                (commandp s)))
        '(set-process-filter
          set-process-sentinel
          set-process-plist
          process-put
          set-process-query-on-exit-flag
          set-process-buffer
          set-process-coding-system
          set-process-inherit-coding-system-flag
          set-process-thread
          set-process-window-size
          set-process-datagram-address))

(let ((p (start-process "neovm-proc-stale-mutator" nil "cat")))
  (unwind-protect
      (progn
        (delete-process p)
        (list
         (set-process-filter p 'ignore)
         (set-process-sentinel p 'ignore)
         (set-process-plist p '(a 1))
         (process-put p 'k 2)
         (set-process-query-on-exit-flag p nil)
         (set-process-buffer p nil)
         (set-process-coding-system p 'utf-8-unix)
         (set-process-inherit-coding-system-flag p t)
         (set-process-thread p nil)
         (set-process-window-size p 10 20)
         (set-process-datagram-address p nil)
         (process-query-on-exit-flag p)
         (process-filter p)
         (process-sentinel p)
         (process-plist p)
         (process-get p 'k)))
    (ignore-errors (delete-process p))))
